{"version":3,"file":"d285fc144f1da72909e5.chunk.js","mappings":"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","sources":["webpack://superset/./src/components/AuditInfo/index.tsx","webpack://superset/./src/components/ConfirmStatusChange/index.tsx","webpack://superset/./src/components/DeleteModal/index.tsx","webpack://superset/./src/components/FaveStar/index.tsx","webpack://superset/./src/features/home/SubMenu.tsx","webpack://superset/./src/features/tags/tags.ts","webpack://superset/./src/pages/Tags/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Owner from 'src/types/Owner';\nimport { Tooltip } from 'src/components/Tooltip';\nimport getOwnerName from 'src/utils/getOwnerName';\nimport { t } from '@superset-ui/core';\n\nexport type ModifiedInfoProps = {\n  user?: Owner;\n  date: string;\n};\n\nexport const ModifiedInfo = ({ user, date }: ModifiedInfoProps) => {\n  const dateSpan = (\n    <span className=\"no-wrap\" data-test=\"audit-info-date\">\n      {date}\n    </span>\n  );\n\n  if (user) {\n    const userName = getOwnerName(user);\n    const title = t('Modified by: %s', userName);\n    return (\n      <Tooltip title={title} placement=\"bottom\">\n        {dateSpan}\n      </Tooltip>\n    );\n  }\n  return dateSpan;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, ReactNode } from 'react';\n\nimport DeleteModal from 'src/components/DeleteModal';\n\nexport type Callback = (...args: any[]) => void;\n\nexport interface ConfirmStatusChangeProps {\n  title: ReactNode;\n  description: ReactNode;\n  onConfirm: Callback;\n  children: (showConfirm: Callback) => ReactNode;\n}\n\nexport default function ConfirmStatusChange({\n  title,\n  description,\n  onConfirm,\n  children,\n}: ConfirmStatusChangeProps) {\n  const [open, setOpen] = useState(false);\n  const [currentCallbackArgs, setCurrentCallbackArgs] = useState<any[]>([]);\n\n  const showConfirm = (...callbackArgs: any[]) => {\n    // check if any args are DOM events, if so, call persist\n    callbackArgs.forEach(arg => {\n      if (!arg) {\n        return;\n      }\n      if (typeof arg.persist === 'function') {\n        arg.persist();\n      }\n      if (typeof arg.preventDefault === 'function') {\n        arg.preventDefault();\n      }\n      if (typeof arg.stopPropagation === 'function') {\n        arg.stopPropagation();\n      }\n    });\n    setOpen(true);\n    setCurrentCallbackArgs(callbackArgs);\n  };\n\n  const hide = () => {\n    setOpen(false);\n    setCurrentCallbackArgs([]);\n  };\n\n  const confirm = () => {\n    onConfirm(...currentCallbackArgs);\n    hide();\n  };\n\n  return (\n    <>\n      {children?.(showConfirm)}\n      <DeleteModal\n        description={description}\n        onConfirm={confirm}\n        onHide={hide}\n        open={open}\n        title={title}\n      />\n    </>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t, styled } from '@superset-ui/core';\nimport { useState, ReactNode, ChangeEvent } from 'react';\nimport { Input } from 'src/components/Input';\nimport Modal from 'src/components/Modal';\nimport { FormLabel } from 'src/components/Form';\n\nconst StyledDiv = styled.div`\n  padding-top: 8px;\n  width: 50%;\n  label {\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    text-transform: uppercase;\n  }\n`;\n\nconst DescriptionContainer = styled.div`\n  line-height: ${({ theme }) => theme.gridUnit * 4}px;\n  padding-top: 16px;\n`;\n\ninterface DeleteModalProps {\n  description: ReactNode;\n  onConfirm: () => void;\n  onHide: () => void;\n  open: boolean;\n  title: ReactNode;\n}\n\nexport default function DeleteModal({\n  description,\n  onConfirm,\n  onHide,\n  open,\n  title,\n}: DeleteModalProps) {\n  const [disableChange, setDisableChange] = useState(true);\n  const [confirmation, setConfirmation] = useState<string>('');\n\n  const hide = () => {\n    setConfirmation('');\n    onHide();\n  };\n\n  const confirm = () => {\n    setConfirmation('');\n    onConfirm();\n  };\n\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const targetValue = event.target.value ?? '';\n    setDisableChange(targetValue.toUpperCase() !== t('DELETE'));\n    setConfirmation(targetValue);\n  };\n\n  const onPressEnter = () => {\n    if (!disableChange) {\n      confirm();\n    }\n  };\n\n  return (\n    <Modal\n      disablePrimaryButton={disableChange}\n      onHide={hide}\n      onHandledPrimaryAction={confirm}\n      primaryButtonName={t('delete')}\n      primaryButtonType=\"danger\"\n      show={open}\n      title={title}\n    >\n      <DescriptionContainer>{description}</DescriptionContainer>\n      <StyledDiv>\n        <FormLabel htmlFor=\"delete\">\n          {t('Type \"%s\" to confirm', t('DELETE'))}\n        </FormLabel>\n        <Input\n          data-test=\"delete-modal-input\"\n          type=\"text\"\n          id=\"delete\"\n          autoComplete=\"off\"\n          value={confirmation}\n          onChange={onChange}\n          onPressEnter={onPressEnter}\n        />\n      </StyledDiv>\n    </Modal>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useCallback, useEffect, MouseEvent } from 'react';\n\nimport { css, t, styled } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport Icons from 'src/components/Icons';\n\nexport interface FaveStarProps {\n  itemId: number;\n  isStarred?: boolean;\n  showTooltip?: boolean;\n  saveFaveStar(id: number, isStarred: boolean): any;\n  fetchFaveStar?: (id: number) => void;\n}\n\nconst StyledLink = styled.a`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.xl}px;\n    display: flex;\n    padding: 0 0 0 ${theme.gridUnit * 2}px;\n  `};\n`;\n\nconst FaveStar = ({\n  itemId,\n  isStarred,\n  showTooltip,\n  saveFaveStar,\n  fetchFaveStar,\n}: FaveStarProps) => {\n  useEffect(() => {\n    fetchFaveStar?.(itemId);\n  }, [fetchFaveStar, itemId]);\n\n  const onClick = useCallback(\n    (e: MouseEvent) => {\n      e.preventDefault();\n      saveFaveStar(itemId, !!isStarred);\n    },\n    [isStarred, itemId, saveFaveStar],\n  );\n\n  const content = (\n    <StyledLink\n      href=\"#\"\n      onClick={onClick}\n      className=\"fave-unfave-icon\"\n      data-test=\"fave-unfave-icon\"\n      role=\"button\"\n    >\n      {isStarred ? <Icons.FavoriteSelected /> : <Icons.FavoriteUnselected />}\n    </StyledLink>\n  );\n\n  if (showTooltip) {\n    return (\n      <Tooltip\n        id=\"fave-unfave-tooltip\"\n        title={t('Click to favorite/unfavorite')}\n      >\n        {content}\n      </Tooltip>\n    );\n  }\n\n  return content;\n};\nexport default FaveStar;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactNode, useState, useEffect, FunctionComponent } from 'react';\n\nimport { Link, useHistory } from 'react-router-dom';\nimport { styled, SupersetTheme, css, t } from '@superset-ui/core';\nimport cx from 'classnames';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { debounce } from 'lodash';\nimport { Row } from 'src/components';\nimport { Menu, MenuMode, MainNav as DropdownMenu } from 'src/components/Menu';\nimport Button, { OnClickHandler } from 'src/components/Button';\nimport Icons from 'src/components/Icons';\nimport { MenuObjectProps } from 'src/types/bootstrapTypes';\n\nconst StyledHeader = styled.div`\n  margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\n  .header {\n    font-weight: ${({ theme }) => theme.typography.weights.bold};\n    margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    text-align: left;\n    font-size: 18px;\n    padding: ${({ theme }) => theme.gridUnit * 3}px;\n    display: inline-block;\n    line-height: ${({ theme }) => theme.gridUnit * 9}px;\n  }\n  .nav-right {\n    display: flex;\n    align-items: center;\n    padding: ${({ theme }) => theme.gridUnit * 3.5}px 0;\n    margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    float: right;\n    position: absolute;\n    right: 0;\n    ul.ant-menu-root {\n      padding: 0px;\n    }\n    li[role='menuitem'] {\n      border: 0;\n      border-bottom: none;\n      &:hover {\n        border-bottom: transparent;\n      }\n    }\n  }\n  .nav-right-collapse {\n    display: flex;\n    align-items: center;\n    padding: 14px 0;\n    margin-right: 0;\n    float: left;\n    padding-left: 10px;\n  }\n  .menu {\n    background-color: ${({ theme }) => theme.colors.grayscale.light5};\n    .ant-menu-horizontal {\n      line-height: inherit;\n      .ant-menu-item {\n        border-bottom: none;\n        &:hover {\n          border-bottom: none;\n          text-decoration: none;\n        }\n      }\n    }\n    .ant-menu {\n      padding: ${({ theme }) => theme.gridUnit * 4}px 0px;\n    }\n  }\n\n  .ant-menu-horizontal:not(.ant-menu-dark) > .ant-menu-item {\n    margin: 0 ${({ theme }) => theme.gridUnit + 1}px;\n  }\n\n  .menu .ant-menu-item {\n    li,\n    div {\n      a,\n      div {\n        font-size: ${({ theme }) => theme.typography.sizes.s}px;\n        color: ${({ theme }) => theme.colors.secondary.dark1};\n\n        a {\n          margin: 0;\n          padding: ${({ theme }) => theme.gridUnit * 2}px\n            ${({ theme }) => theme.gridUnit * 4}px;\n          line-height: ${({ theme }) => theme.gridUnit * 5}px;\n\n          &:hover {\n            text-decoration: none;\n          }\n        }\n      }\n\n      &.no-router a {\n        padding: ${({ theme }) => theme.gridUnit * 2}px\n          ${({ theme }) => theme.gridUnit * 4}px;\n      }\n\n      &.active a {\n        background: ${({ theme }) => theme.colors.secondary.light4};\n        border-radius: ${({ theme }) => theme.borderRadius}px;\n      }\n    }\n\n    li.active > a,\n    li.active > div,\n    div.active > div,\n    li > a:hover,\n    li > a:focus,\n    li > div:hover,\n    div > div:hover,\n    div > a:hover {\n      background: ${({ theme }) => theme.colors.secondary.light4};\n      border-bottom: none;\n      border-radius: ${({ theme }) => theme.borderRadius}px;\n      margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n      text-decoration: none;\n    }\n  }\n\n  .btn-link {\n    padding: 10px 0;\n  }\n  .ant-menu-horizontal {\n    border: none;\n  }\n  @media (max-width: 767px) {\n    .header,\n    .nav-right {\n      position: relative;\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n  .ant-menu-submenu {\n    span[role='img'] {\n      position: absolute;\n      right: ${({ theme }) => -theme.gridUnit + -2}px;\n      top: ${({ theme }) => theme.gridUnit + 1}px !important;\n    }\n  }\n  .dropdown-menu-links > div.ant-menu-submenu-title,\n  .ant-menu-submenu-open.ant-menu-submenu-active > div.ant-menu-submenu-title {\n    color: ${({ theme }) => theme.colors.primary.dark1};\n  }\n`;\n\nconst styledDisabled = (theme: SupersetTheme) => css`\n  color: ${theme.colors.grayscale.light1};\n  cursor: not-allowed;\n\n  &:hover {\n    color: ${theme.colors.grayscale.light1};\n  }\n\n  .ant-menu-item-selected {\n    background-color: ${theme.colors.grayscale.light1};\n  }\n`;\n\ntype MenuChild = {\n  label: string;\n  name: string;\n  url?: string;\n  usesRouter?: boolean;\n  onClick?: () => void;\n  'data-test'?: string;\n};\n\nexport interface ButtonProps {\n  name: ReactNode;\n  onClick?: OnClickHandler;\n  'data-test'?: string;\n  buttonStyle:\n    | 'primary'\n    | 'secondary'\n    | 'dashed'\n    | 'link'\n    | 'warning'\n    | 'success'\n    | 'tertiary';\n}\n\nexport interface SubMenuProps {\n  buttons?: Array<ButtonProps>;\n  name?: string | ReactNode;\n  tabs?: MenuChild[];\n  activeChild?: MenuChild['name'];\n  /* If usesRouter is true, a react-router <Link> component will be used instead of href.\n   *  ONLY set usesRouter to true if SubMenu is wrapped in a react-router <Router>;\n   *  otherwise, a 'You should not use <Link> outside a <Router>' error will be thrown */\n  usesRouter?: boolean;\n  color?: string;\n  dropDownLinks?: Array<MenuObjectProps>;\n}\n\nconst { SubMenu } = DropdownMenu;\n\nconst SubMenuComponent: FunctionComponent<SubMenuProps> = props => {\n  const [showMenu, setMenu] = useState<MenuMode>('horizontal');\n  const [navRightStyle, setNavRightStyle] = useState('nav-right');\n\n  let hasHistory = true;\n  // If no parent <Router> component exists, useHistory throws an error\n  try {\n    useHistory();\n  } catch (err) {\n    // If error is thrown, we know not to use <Link> in render\n    hasHistory = false;\n  }\n\n  useEffect(() => {\n    function handleResize() {\n      if (window.innerWidth <= 767) setMenu('inline');\n      else setMenu('horizontal');\n\n      if (\n        props.buttons &&\n        props.buttons.length >= 3 &&\n        window.innerWidth >= 795\n      ) {\n        // eslint-disable-next-line no-unused-expressions\n        setNavRightStyle('nav-right');\n      } else if (\n        props.buttons &&\n        props.buttons.length >= 3 &&\n        window.innerWidth <= 795\n      ) {\n        setNavRightStyle('nav-right-collapse');\n      }\n    }\n    handleResize();\n    const resize = debounce(handleResize, 10);\n    window.addEventListener('resize', resize);\n    return () => window.removeEventListener('resize', resize);\n  }, [props.buttons]);\n\n  return (\n    <StyledHeader>\n      <Row className=\"menu\" role=\"navigation\">\n        {props.name && <div className=\"header\">{props.name}</div>}\n        <Menu mode={showMenu} style={{ backgroundColor: 'transparent' }}>\n          {props.tabs?.map(tab => {\n            if ((props.usesRouter || hasHistory) && !!tab.usesRouter) {\n              return (\n                <Menu.Item key={tab.label}>\n                  <div\n                    role=\"tab\"\n                    data-test={tab['data-test']}\n                    className={tab.name === props.activeChild ? 'active' : ''}\n                  >\n                    <div>\n                      <Link to={tab.url || ''}>{tab.label}</Link>\n                    </div>\n                  </div>\n                </Menu.Item>\n              );\n            }\n\n            return (\n              <Menu.Item key={tab.label}>\n                <div\n                  className={cx('no-router', {\n                    active: tab.name === props.activeChild,\n                  })}\n                  role=\"tab\"\n                >\n                  <a href={tab.url} onClick={tab.onClick}>\n                    {tab.label}\n                  </a>\n                </div>\n              </Menu.Item>\n            );\n          })}\n        </Menu>\n        <div className={navRightStyle}>\n          <Menu mode=\"horizontal\" triggerSubMenuAction=\"click\">\n            {props.dropDownLinks?.map((link, i) => (\n              <SubMenu\n                key={i}\n                title={link.label}\n                icon={<Icons.TriangleDown />}\n                popupOffset={[10, 20]}\n                className=\"dropdown-menu-links\"\n              >\n                {link.childs?.map(item => {\n                  if (typeof item === 'object') {\n                    return item.disable ? (\n                      <DropdownMenu.Item\n                        key={item.label}\n                        css={styledDisabled}\n                        disabled\n                      >\n                        <Tooltip\n                          placement=\"top\"\n                          title={t(\n                            \"Enable 'Allow file uploads to database' in any database's settings\",\n                          )}\n                        >\n                          {item.label}\n                        </Tooltip>\n                      </DropdownMenu.Item>\n                    ) : (\n                      <DropdownMenu.Item key={item.label}>\n                        <a href={item.url} onClick={item.onClick}>\n                          {item.label}\n                        </a>\n                      </DropdownMenu.Item>\n                    );\n                  }\n                  return null;\n                })}\n              </SubMenu>\n            ))}\n          </Menu>\n          {props.buttons?.map((btn, i) => (\n            <Button\n              key={i}\n              buttonStyle={btn.buttonStyle}\n              onClick={btn.onClick}\n              data-test={btn['data-test']}\n            >\n              {btn.name}\n            </Button>\n          ))}\n        </div>\n      </Row>\n      {props.children}\n    </StyledHeader>\n  );\n};\n\nexport default SubMenuComponent;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { JsonObject, SupersetClient } from '@superset-ui/core';\nimport rison from 'rison';\nimport Tag from 'src/types/TagType';\n\nexport const OBJECT_TYPES_VALUES = Object.freeze([\n  'dashboard',\n  'chart',\n  'saved_query',\n]);\n\nexport const OBJECT_TYPES = Object.freeze({\n  DASHBOARD: 'dashboard',\n  CHART: 'chart',\n  QUERY: 'saved_query',\n});\n\nconst OBJECT_TYPE_ID_MAP = {\n  saved_query: 1,\n  chart: 2,\n  dashboard: 3,\n};\n\nconst map_object_type_to_id = (objectType: string) => {\n  if (!OBJECT_TYPES_VALUES.includes(objectType)) {\n    const msg = `objectType ${objectType} is invalid`;\n    throw new Error(msg);\n  }\n  return OBJECT_TYPE_ID_MAP[objectType];\n};\n\nexport function fetchAllTags(\n  // fetch all tags (excluding system tags)\n  callback: (json: JsonObject) => void,\n  error: (response: Response) => void,\n) {\n  SupersetClient.get({\n    endpoint: `/api/v1/tag/?q=${rison.encode({\n      filters: [{ col: 'type', opr: 'custom_tag', value: true }],\n    })}`,\n  })\n    .then(({ json }) => callback(json))\n    .catch(response => error(response));\n}\n\nexport function fetchSingleTag(\n  id: number,\n  callback: (json: JsonObject) => void,\n  error: (response: Response) => void,\n) {\n  SupersetClient.get({ endpoint: `/api/v1/tag/${id}` })\n    .then(({ json }) => callback(json.result))\n    .catch(response => error(response));\n}\n\nexport function fetchTags(\n  {\n    objectType,\n    objectId,\n    includeTypes = false,\n  }: {\n    objectType: string;\n    objectId: number;\n    includeTypes: boolean;\n  },\n  callback: (json: JsonObject) => void,\n  error: (response: Response) => void,\n) {\n  if (objectType === undefined || objectId === undefined) {\n    throw new Error('Need to specify objectType and objectId');\n  }\n  if (!OBJECT_TYPES_VALUES.includes(objectType)) {\n    const msg = `objectType ${objectType} is invalid`;\n    throw new Error(msg);\n  }\n  SupersetClient.get({\n    endpoint: `/api/v1/${objectType}/${objectId}`,\n  })\n    .then(({ json }) =>\n      callback(json.result.tags.filter((tag: Tag) => tag.type === 1)),\n    )\n    .catch(response => error(response));\n}\nexport function deleteTaggedObjects(\n  { objectType, objectId }: { objectType: string; objectId: number },\n  tag: Tag,\n  callback: (text: string) => void,\n  error: (response: string) => void,\n) {\n  if (objectType === undefined || objectId === undefined) {\n    throw new Error('Need to specify objectType and objectId');\n  }\n  if (!OBJECT_TYPES_VALUES.includes(objectType)) {\n    const msg = `objectType ${objectType} is invalid`;\n    throw new Error(msg);\n  }\n  SupersetClient.delete({\n    endpoint: `/api/v1/tag/${map_object_type_to_id(objectType)}/${objectId}/${\n      tag.name\n    }`,\n  })\n    .then(({ json }) =>\n      json\n        ? callback(JSON.stringify(json))\n        : callback('Successfully Deleted Tagged Objects'),\n    )\n    .catch(response => {\n      const err_str = response.message;\n      return err_str ? error(err_str) : error('Error Deleting Tagged Objects');\n    });\n}\n\nexport function deleteTags(\n  tags: Tag[],\n  callback: (text: string) => void,\n  error: (response: string) => void,\n) {\n  const tag_names = tags.map(tag => tag.name) as string[];\n  SupersetClient.delete({\n    endpoint: `/api/v1/tag/?q=${rison.encode(tag_names)}`,\n  })\n    .then(({ json }) =>\n      json.message\n        ? callback(json.message)\n        : callback('Successfully Deleted Tag'),\n    )\n    .catch(response => {\n      const err_str = response.message;\n      return err_str ? error(err_str) : error('Error Deleting Tag');\n    });\n}\n\nexport function addTag(\n  {\n    objectType,\n    objectId,\n    includeTypes = false,\n  }: {\n    objectType: string;\n    objectId: number;\n    includeTypes: boolean;\n  },\n  tag: string,\n  callback: (text: string) => void,\n  error: (response: Response) => void,\n) {\n  if (objectType === undefined || objectId === undefined) {\n    throw new Error('Need to specify objectType and objectId');\n  }\n  const objectTypeId = map_object_type_to_id(objectType);\n  SupersetClient.post({\n    endpoint: `/api/v1/tag/${objectTypeId}/${objectId}/`,\n    body: JSON.stringify({\n      properties: {\n        tags: [tag],\n      },\n    }),\n    parseMethod: 'json',\n    headers: { 'Content-Type': 'application/json' },\n  })\n    .then(({ json }) => callback(JSON.stringify(json)))\n    .catch(response => error(response));\n}\n\nexport function fetchObjects(\n  { tags = '', types }: { tags: string; types: string | null },\n  callback: (json: JsonObject) => void,\n  error: (response: Response) => void,\n) {\n  let url = `/api/v1/tag/get_objects/?tags=${tags}`;\n  if (types) {\n    url += `&types=${types}`;\n  }\n  SupersetClient.get({ endpoint: url })\n    .then(({ json }) => callback(json.result))\n    .catch(response => error(response));\n}\n\nexport function fetchObjectsByTagIds(\n  {\n    tagIds = [],\n    types,\n  }: { tagIds: number[] | undefined; types: string | null },\n  callback: (json: JsonObject) => void,\n  error: (response: Response) => void,\n) {\n  let url = `/api/v1/tag/get_objects/?tagIds=${tagIds}`;\n  if (types) {\n    url += `&types=${types}`;\n  }\n  SupersetClient.get({ endpoint: url })\n    .then(({ json }) => callback(json.result))\n    .catch(response => error(response));\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, useState } from 'react';\nimport { isFeatureEnabled, FeatureFlag, t } from '@superset-ui/core';\nimport {\n  Actions,\n  createErrorHandler,\n  createFetchRelated,\n} from 'src/views/CRUD/utils';\nimport { useListViewResource, useFavoriteStatus } from 'src/views/CRUD/hooks';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport SubMenu, { SubMenuProps } from 'src/features/home/SubMenu';\nimport ListView, {\n  ListViewProps,\n  Filters,\n  FilterOperator,\n} from 'src/components/ListView';\nimport { dangerouslyGetItemDoNotUse } from 'src/utils/localStorageHelpers';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport Icons from 'src/components/Icons';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { Link } from 'react-router-dom';\nimport { deleteTags } from 'src/features/tags/tags';\nimport { Tag as AntdTag } from 'antd';\nimport { QueryObjectColumns, Tag } from 'src/views/CRUD/types';\nimport TagModal from 'src/features/tags/TagModal';\nimport FaveStar from 'src/components/FaveStar';\nimport { ModifiedInfo } from 'src/components/AuditInfo';\n\nconst PAGE_SIZE = 25;\n\ninterface TagListProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  user: {\n    userId: string | number;\n    firstName: string;\n    lastName: string;\n  };\n}\n\nfunction TagList(props: TagListProps) {\n  const { addDangerToast, addSuccessToast, user } = props;\n  const { userId } = user;\n\n  const initialFilters = useMemo(\n    () => [\n      {\n        id: 'type',\n        operator: 'custom_tag',\n        value: true,\n      },\n    ],\n    [],\n  );\n\n  const {\n    state: {\n      loading,\n      resourceCount: tagCount,\n      resourceCollection: tags,\n      bulkSelectEnabled,\n    },\n    hasPerm,\n    fetchData,\n    toggleBulkSelect,\n    refreshData,\n  } = useListViewResource<Tag>(\n    'tag',\n    t('tag'),\n    addDangerToast,\n    undefined,\n    undefined,\n    initialFilters,\n  );\n\n  const [showTagModal, setShowTagModal] = useState<boolean>(false);\n  const [tagToEdit, setTagToEdit] = useState<Tag | null>(null);\n  const tagIds = useMemo(() => tags.map(c => c.id), [tags]);\n  const [saveFavoriteStatus, favoriteStatus] = useFavoriteStatus(\n    'tag',\n    tagIds,\n    addDangerToast,\n  );\n\n  // TODO: Fix usage of localStorage keying on the user id\n  const userKey = dangerouslyGetItemDoNotUse(userId?.toString(), null);\n\n  const canDelete = hasPerm('can_write');\n  const canEdit = hasPerm('can_write');\n\n  const initialSort = [{ id: 'changed_on_delta_humanized', desc: true }];\n\n  function handleTagsDelete(tags: Tag[]) {\n    deleteTags(\n      tags,\n      (msg: string) => {\n        addSuccessToast(msg);\n        refreshData();\n      },\n      msg => {\n        addDangerToast(msg);\n        refreshData();\n      },\n    );\n  }\n\n  const handleTagEdit = (tag: Tag) => {\n    setShowTagModal(true);\n    setTagToEdit(tag);\n  };\n\n  const emptyState = {\n    title: t('No Tags created'),\n    image: 'dashboard.svg',\n    description:\n      'Create a new tag and assign it to existing entities like charts or dashboards',\n    buttonAction: () => setShowTagModal(true),\n    buttonText: (\n      <>\n        <i className=\"fa fa-plus\" data-test=\"add-rule-empty\" />{' '}\n        {'Create a new Tag'}{' '}\n      </>\n    ),\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        Cell: ({\n          row: {\n            original: { id },\n          },\n        }: any) =>\n          userId && (\n            <FaveStar\n              itemId={id}\n              saveFaveStar={saveFavoriteStatus}\n              isStarred={favoriteStatus[id]}\n            />\n          ),\n        Header: '',\n        id: 'id',\n        disableSortBy: true,\n        size: 'xs',\n        hidden: !userId,\n      },\n      {\n        Cell: ({\n          row: {\n            original: { id, name: tagName },\n          },\n        }: any) => (\n          <AntdTag>\n            <Link to={`/superset/all_entities/?id=${id}`}>{tagName}</Link>\n          </AntdTag>\n        ),\n        Header: t('Name'),\n        accessor: 'name',\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              changed_on_delta_humanized: changedOn,\n              changed_by: changedBy,\n            },\n          },\n        }: any) => <ModifiedInfo date={changedOn} user={changedBy} />,\n        Header: t('Last modified'),\n        accessor: 'changed_on_delta_humanized',\n        size: 'xl',\n      },\n      {\n        Cell: ({ row: { original } }: any) => {\n          const handleEdit = () => handleTagEdit(original);\n          return (\n            <Actions className=\"actions\">\n              {canDelete && (\n                <ConfirmStatusChange\n                  title={t('Please confirm')}\n                  description={\n                    <>\n                      {t('Are you sure you want to delete')}{' '}\n                      <b>{original.dashboard_title}</b>?\n                    </>\n                  }\n                  onConfirm={() => handleTagsDelete([original])}\n                >\n                  {confirmDelete => (\n                    <Tooltip\n                      id=\"delete-action-tooltip\"\n                      title={t('Delete')}\n                      placement=\"bottom\"\n                    >\n                      <span\n                        role=\"button\"\n                        tabIndex={0}\n                        className=\"action-button\"\n                        onClick={confirmDelete}\n                      >\n                        <Icons.Trash data-test=\"dashboard-list-trash-icon\" />\n                      </span>\n                    </Tooltip>\n                  )}\n                </ConfirmStatusChange>\n              )}\n              {canEdit && (\n                <Tooltip\n                  id=\"edit-action-tooltip\"\n                  title={t('Edit')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={handleEdit}\n                  >\n                    <Icons.EditAlt data-test=\"edit-alt\" />\n                  </span>\n                </Tooltip>\n              )}\n            </Actions>\n          );\n        },\n        Header: t('Actions'),\n        id: 'actions',\n        hidden: !canDelete,\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.ChangedBy,\n        hidden: true,\n      },\n    ],\n    [userId, canDelete, refreshData, addSuccessToast, addDangerToast],\n  );\n\n  const filters: Filters = useMemo(() => {\n    const filters_list = [\n      {\n        Header: t('Name'),\n        id: 'name',\n        input: 'search',\n        operator: FilterOperator.Contains,\n      },\n      {\n        Header: t('Modified by'),\n        key: 'changed_by',\n        id: 'changed_by',\n        input: 'select',\n        operator: FilterOperator.RelationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'tag',\n          'changed_by',\n          createErrorHandler(errMsg =>\n            t(\n              'An error occurred while fetching dataset datasource values: %s',\n              errMsg,\n            ),\n          ),\n          user,\n        ),\n        paginate: true,\n      },\n    ] as Filters;\n    return filters_list;\n  }, [addDangerToast, props.user]);\n\n  const sortTypes = [\n    {\n      desc: false,\n      id: 'name',\n      label: t('Alphabetical'),\n      value: 'alphabetical',\n    },\n    {\n      desc: true,\n      id: 'changed_on_delta_humanized',\n      label: t('Recently modified'),\n      value: 'recently_modified',\n    },\n    {\n      desc: false,\n      id: 'changed_on_delta_humanized',\n      label: t('Least recently modified'),\n      value: 'least_recently_modified',\n    },\n  ];\n\n  const subMenuButtons: SubMenuProps['buttons'] = [];\n\n  if (canDelete) {\n    subMenuButtons.push({\n      name: t('Bulk select'),\n      buttonStyle: 'secondary',\n      'data-test': 'bulk-select',\n      onClick: toggleBulkSelect,\n    });\n  }\n\n  // render new 'New Tag' btn\n  subMenuButtons.push({\n    name: (\n      <>\n        <i className=\"fa fa-plus\" /> {t('Tag')}\n      </>\n    ),\n    buttonStyle: 'primary',\n    'data-test': 'bulk-select',\n    onClick: () => setShowTagModal(true),\n  });\n\n  const handleBulkDelete = (tagsToDelete: Tag[]) =>\n    handleTagsDelete(tagsToDelete);\n\n  return (\n    <>\n      <TagModal\n        show={showTagModal}\n        onHide={() => {\n          setShowTagModal(false);\n          setTagToEdit(null);\n        }}\n        editTag={tagToEdit}\n        refreshData={refreshData}\n        addSuccessToast={addSuccessToast}\n        addDangerToast={addDangerToast}\n        clearOnHide\n      />\n      <SubMenu name={t('Tags')} buttons={subMenuButtons} />\n      <ConfirmStatusChange\n        title={t('Please confirm')}\n        description={t('Are you sure you want to delete the selected tags?')}\n        onConfirm={handleBulkDelete}\n      >\n        {confirmDelete => {\n          const bulkActions: ListViewProps['bulkActions'] = [];\n          if (canDelete) {\n            bulkActions.push({\n              key: 'delete',\n              name: t('Delete'),\n              type: 'danger',\n              onSelect: confirmDelete,\n            });\n          }\n          return (\n            <>\n              <ListView<Tag>\n                bulkActions={bulkActions}\n                bulkSelectEnabled={bulkSelectEnabled}\n                cardSortSelectOptions={sortTypes}\n                className=\"tags-list-view\"\n                columns={columns}\n                count={tagCount}\n                data={tags}\n                disableBulkSelect={toggleBulkSelect}\n                refreshData={refreshData}\n                emptyState={emptyState}\n                fetchData={fetchData}\n                filters={filters}\n                initialSort={initialSort}\n                loading={loading}\n                addDangerToast={addDangerToast}\n                addSuccessToast={addSuccessToast}\n                pageSize={PAGE_SIZE}\n                showThumbnails={\n                  userKey\n                    ? userKey.thumbnails\n                    : isFeatureEnabled(FeatureFlag.Thumbnails)\n                }\n                defaultViewMode={\n                  isFeatureEnabled(FeatureFlag.ListviewsDefaultCardView)\n                    ? 'card'\n                    : 'table'\n                }\n              />\n            </>\n          );\n        }}\n      </ConfirmStatusChange>\n    </>\n  );\n}\n\nexport default withToasts(TagList);\n"],"names":["ModifiedInfo","user","date","dateSpan","_jsx","className","children","userName","getOwnerName","title","t","Tooltip","placement","ConfirmStatusChange","description","onConfirm","open","setOpen","useState","currentCallbackArgs","setCurrentCallbackArgs","hide","_jsxs","_Fragment","showConfirm","callbackArgs","forEach","arg","persist","preventDefault","stopPropagation","DeleteModal","confirm","onHide","StyledDiv","styled","div","theme","colors","grayscale","base","DescriptionContainer","gridUnit","disableChange","setDisableChange","confirmation","setConfirmation","Modal","disablePrimaryButton","onHandledPrimaryAction","primaryButtonName","primaryButtonType","show","FormLabel","htmlFor","Input","type","id","autoComplete","value","onChange","event","_event$target$value","targetValue","target","toUpperCase","onPressEnter","StyledLink","a","css","typography","sizes","xl","FaveStar","itemId","isStarred","showTooltip","saveFaveStar","fetchFaveStar","useEffect","onClick","useCallback","e","content","href","role","Icons","FavoriteSelected","FavoriteUnselected","StyledHeader","weights","bold","light5","s","secondary","dark1","light4","borderRadius","primary","styledDisabled","light1","SubMenu","DropdownMenu","props","_props$tabs","_props$dropDownLinks","_props$buttons","showMenu","setMenu","navRightStyle","setNavRightStyle","hasHistory","useHistory","err","handleResize","window","innerWidth","buttons","length","resize","_debounce","addEventListener","removeEventListener","Row","name","Menu","mode","style","backgroundColor","tabs","map","tab","usesRouter","Item","activeChild","Link","to","url","label","cx","active","triggerSubMenuAction","dropDownLinks","link","i","_link$childs","icon","TriangleDown","popupOffset","childs","item","disable","disabled","btn","Button","buttonStyle","OBJECT_TYPES_VALUES","Object","freeze","OBJECT_TYPES","DASHBOARD","CHART","QUERY","fetchSingleTag","callback","error","SupersetClient","get","endpoint","then","json","result","catch","response","fetchTags","objectType","objectId","includeTypes","undefined","Error","includes","tags","filter","tag","deleteTags","tag_names","delete","rison","message","err_str","fetchObjectsByTagIds","tagIds","types","withToasts","addDangerToast","addSuccessToast","userId","initialFilters","useMemo","operator","state","loading","resourceCount","tagCount","resourceCollection","bulkSelectEnabled","hasPerm","fetchData","toggleBulkSelect","refreshData","useListViewResource","showTagModal","setShowTagModal","tagToEdit","setTagToEdit","c","saveFavoriteStatus","favoriteStatus","useFavoriteStatus","userKey","dangerouslyGetItemDoNotUse","toString","canDelete","canEdit","initialSort","desc","handleTagsDelete","msg","emptyState","image","buttonAction","buttonText","columns","Cell","row","original","Header","disableSortBy","size","hidden","tagName","AntdTag","accessor","changed_on_delta_humanized","changedOn","changed_by","changedBy","Actions","dashboard_title","confirmDelete","tabIndex","Trash","handleEdit","handleTagEdit","EditAlt","QueryObjectColumns","ChangedBy","filters","input","FilterOperator","Contains","key","RelationOneMany","unfilteredLabel","fetchSelects","createFetchRelated","createErrorHandler","errMsg","paginate","sortTypes","subMenuButtons","push","TagModal","editTag","clearOnHide","tagsToDelete","bulkActions","onSelect","ListView","cardSortSelectOptions","count","data","disableBulkSelect","pageSize","showThumbnails","thumbnails","isFeatureEnabled","FeatureFlag","Thumbnails","defaultViewMode","ListviewsDefaultCardView"],"sourceRoot":""}