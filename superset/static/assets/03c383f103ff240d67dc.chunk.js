"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8774],{2275:(e,t,a)=>{a.d(t,{$6:()=>d,$X:()=>b,DZ:()=>h,Er:()=>u,Rw:()=>c,cP:()=>n,ck:()=>f});var l=a(45697),r=a.n(l),i=a(81255),o=a(713),s=a(79271);const n=r().shape({id:r().string.isRequired,type:r().oneOf(Object.values(i.ZP)).isRequired,parents:r().arrayOf(r().string),children:r().arrayOf(r().string),meta:r().shape({width:r().number,height:r().number,headerSize:r().oneOf(s.Z.map((e=>e.value))),background:r().oneOf(o.Z.map((e=>e.value))),chartId:r().number})}),d=r().shape({id:r().number.isRequired,chartAlert:r().string,chartStatus:r().string,chartUpdateEndTime:r().number,chartUpdateStartTime:r().number,latestQueryFormData:r().object,queryController:r().shape({abort:r().func}),queriesResponse:r().arrayOf(r().object),triggerQuery:r().bool,lastRendered:r().number}),c=r().shape({slice_id:r().number.isRequired,slice_url:r().string.isRequired,slice_name:r().string.isRequired,datasource:r().string,datasource_name:r().string,datasource_link:r().string,changed_on:r().number.isRequired,modified:r().string,viz_type:r().string.isRequired,description:r().string,description_markeddown:r().string,owners:r().arrayOf(r().string)}),u=r().shape({chartId:r().number.isRequired,componentId:r().string.isRequired,filterName:r().string.isRequired,datasourceId:r().string.isRequired,directPathToFilter:r().arrayOf(r().string).isRequired,isDateFilter:r().bool.isRequired,isInstantFilter:r().bool.isRequired,columns:r().object,labels:r().object,scopes:r().object}),h=r().shape({sliceIds:r().arrayOf(r().number),expandedSlices:r().object,editMode:r().bool,isPublished:r().bool,colorNamespace:r().string,colorScheme:r().string,updatedColorScheme:r().bool,hasUnsavedChanges:r().bool}),b=r().shape({id:r().number,metadata:r().object,slug:r().string,dash_edit_perm:r().bool,dash_save_perm:r().bool,common:r().object,userId:r().string}),p=r().shape({value:r().oneOfType([r().number,r().string]).isRequired,label:r().string.isRequired}),m={value:r().oneOfType([r().number,r().string]).isRequired,label:r().string.isRequired,children:r().arrayOf(r().oneOfType([r().shape((g=()=>m,()=>g().apply(void 0,arguments))),p]))};var g;const f=r().oneOfType([r().shape(m),p])},13842:(e,t,a)=>{a.d(t,{dc:()=>o,lU:()=>i,zq:()=>s});var l=a(51995),r=a(35944);const i=()=>{const e=(0,l.Fg)();return(0,r.BX)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("path",{d:"M16 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.89 18 2 18H16C17.11 18 18 17.1 18 16V2C18 0.9 17.11 0 16 0Z",fill:e.colors.primary.base}),(0,r.tZ)("path",{d:"M7 14L2 9L3.41 7.59L7 11.17L14.59 3.58L16 5L7 14Z",fill:"white"})]})},o=()=>{const e=(0,l.Fg)();return(0,r.BX)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:e.colors.grayscale.light1}),(0,r.tZ)("path",{d:"M14 10H4V8H14V10Z",fill:"white"})]})},s=()=>{const e=(0,l.Fg)();return(0,r.BX)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:e.colors.grayscale.light2}),(0,r.tZ)("path",{d:"M16 2V16H2V2H16V2Z",fill:"white"})]})}},1304:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(67294),r=a(74069),i=a(35932),o=a(35944);const s=(0,l.forwardRef)(((e,t)=>{const[a,s]=(0,l.useState)(!1),{beforeOpen:n=(()=>{}),onExit:d=(()=>{}),isButton:c=!1,resizable:u=!1,draggable:h=!1,className:b="",tooltip:p,modalFooter:m,triggerNode:g,destroyOnClose:f=!0,modalBody:v,draggableConfig:Z={},resizableConfig:y={},modalTitle:w,responsive:_,width:S,maxWidth:C}=e,T=()=>{s(!1),null==d||d()},k=e=>{e.preventDefault(),null==n||n(),s(!0)};return t&&(t.current={close:T,open:k,showModal:a}),(0,o.BX)(o.HY,{children:[c&&(0,o.tZ)(i.Z,{className:"modal-trigger",tooltip:p,onClick:k,children:g}),!c&&(0,o.tZ)("span",{onClick:k,role:"button",children:g}),(0,o.tZ)(r.default,{className:b,show:a,onHide:T,title:w,footer:m,hideFooter:!m,width:S,maxWidth:C,responsive:_,resizable:u,resizableConfig:y,draggable:h,draggableConfig:Z,destroyOnClose:f,children:v})]})}))},713:(e,t,a)=>{a.d(t,{Z:()=>i});var l=a(61988),r=a(80621);const i=[{value:r.HE,label:(0,l.t)("Transparent"),className:"background--transparent"},{value:r.b5,label:(0,l.t)("White"),className:"background--white"}]},79271:(e,t,a)=>{a.d(t,{Z:()=>i});var l=a(61988),r=a(80621);const i=[{value:r.u_,label:(0,l.t)("Small"),className:"header-style-option header-small"},{value:r.OE,label:(0,l.t)("Medium"),className:"header-style-option header-medium"},{value:r.pQ,label:(0,l.t)("Large"),className:"header-style-option header-large"}]},82342:(e,t,a)=>{a.d(t,{Z:()=>b});var l=a(67294),r=a(11965),i=a(51995),o=a(61988),s=a(9882),n=a(58593),d=a(49238),c=a(13322),u=a(35944);const h=r.iv`
  &.anticon {
    font-size: unset;
    .anticon {
      line-height: unset;
      vertical-align: unset;
    }
  }
`,b=({name:e,label:t,description:a,validationErrors:b=[],renderTrigger:p=!1,rightNode:m,leftNode:g,onClick:f,hovered:v=!1,tooltipOnClick:Z=(()=>{}),warning:y,danger:w})=>{const{gridUnit:_,colors:S}=(0,i.Fg)(),C=(0,l.useRef)(!1),T=(0,l.useMemo)((()=>(b.length||(C.current=!0),C.current?b.length?S.error.base:"unset":S.alert.base)),[S.error.base,S.alert.base,b.length]);return t?(0,u.BX)("div",{className:"ControlHeader",children:[(0,u.tZ)("div",{className:"pull-left",children:(0,u.BX)(d.lX,{css:e=>r.iv`
            margin-bottom: ${.5*e.gridUnit}px;
            position: relative;
          `,children:[g&&(0,u.tZ)("span",{children:g}),(0,u.tZ)("span",{role:"button",tabIndex:0,onClick:f,style:{cursor:f?"pointer":""},children:t})," ",y&&(0,u.BX)("span",{children:[(0,u.tZ)(n.u,{id:"error-tooltip",placement:"top",title:y,children:(0,u.tZ)(c.Z.AlertSolid,{iconColor:S.alert.base,iconSize:"s"})})," "]}),w&&(0,u.BX)("span",{children:[(0,u.tZ)(n.u,{id:"error-tooltip",placement:"top",title:w,children:(0,u.tZ)(c.Z.ErrorSolid,{iconColor:S.error.base,iconSize:"s"})})," "]}),(null==b?void 0:b.length)>0&&(0,u.BX)("span",{children:[(0,u.tZ)(n.u,{id:"error-tooltip",placement:"top",title:null==b?void 0:b.join(" "),children:(0,u.tZ)(c.Z.ExclamationCircleOutlined,{css:r.iv`
                    ${h};
                    color: ${T};
                  `})})," "]}),v?(0,u.BX)("span",{css:()=>r.iv`
          position: absolute;
          top: 50%;
          right: 0;
          padding-left: ${_}px;
          transform: translate(100%, -50%);
          white-space: nowrap;
        `,children:[a&&(0,u.BX)("span",{children:[(0,u.tZ)(n.u,{id:"description-tooltip",title:a,placement:"top",children:(0,u.tZ)(c.Z.InfoCircleOutlined,{css:h,onClick:Z})})," "]}),p&&(0,u.BX)("span",{children:[(0,u.tZ)(s.V,{label:(0,o.t)("bolt"),tooltip:(0,o.t)("Changing this control takes effect instantly"),placement:"top",icon:"bolt"})," "]})]}):null]})}),m&&(0,u.tZ)("div",{className:"pull-right",children:m}),(0,u.tZ)("div",{className:"clearfix"})]}):null}},76787:(e,t,a)=>{a.d(t,{Z:()=>k});var l=a(89734),r=a.n(l),i=a(23560),o=a.n(i),s=a(67294),n=a(51995),d=a(61988),c=a(85671),u=a(11965),h=a(64749),b=a(82342),p=a(58593),m=a(13322),g=a(47767),f=a(85633),v=a(35944);function Z(e){const{id:t,label:a,colors:l}=e,[r,i]=(0,s.useState)(!1),o=(0,s.useRef)(null),n=(0,s.useRef)(null),d=()=>l.map(((e,a)=>(0,v.tZ)("span",{css:t=>u.iv`
          padding-left: ${t.gridUnit/2}px;
          :before {
            content: '';
            display: inline-block;
            background-color: ${e};
            border: 1px solid ${"white"===e?"black":e};
            width: 9px;
            height: 10px;
          }
        `},`${t}-${a}`)));return(0,v.tZ)(p.u,{"data-testid":"tooltip",overlayClassName:"color-scheme-tooltip",title:()=>(0,v.BX)(v.HY,{children:[(0,v.tZ)("span",{children:a}),(0,v.tZ)("div",{children:d()})]}),visible:r,children:(0,v.BX)("span",{className:"color-scheme-option",onMouseEnter:()=>{const e=o.current,t=n.current;e&&t&&(e.scrollWidth>e.offsetWidth||e.scrollHeight>e.offsetHeight||t.scrollWidth>t.offsetWidth||t.scrollHeight>t.offsetHeight)&&i(!0)},onMouseLeave:()=>{i(!1)},css:u.iv`
          display: flex;
          align-items: center;
          justify-content: flex-start;
        `,children:[(0,v.tZ)("span",{className:"color-scheme-label",ref:o,css:e=>u.iv`
            min-width: 125px;
            padding-right: ${2*e.gridUnit}px;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
          `,children:a}),(0,v.tZ)("span",{ref:n,css:e=>u.iv`
            flex: 100%;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            padding-right: ${e.gridUnit}px;
          `,children:d()})]})},t)}const{Option:y,OptGroup:w}=h.default,_=(0,n.iK)(m.Z.AlertSolid)`
  color: ${({theme:e})=>e.colors.alert.base};
`,S=(0,d.t)("This color scheme is being overridden by custom label colors.\n    Check the JSON metadata in the Advanced settings"),C=(0,d.t)("The color scheme is determined by the related dashboard.\n        Edit the color scheme in the dashboard properties."),T=({label:e,hasCustomLabelsColor:t,dashboardId:a})=>{if(t||a){const a=t?S:C;return(0,v.BX)(v.HY,{children:[e," ",(0,v.tZ)(p.u,{title:a,children:(0,v.tZ)(_,{iconSize:"s"})})]})}return(0,v.tZ)(v.HY,{children:e})},k=({hasCustomLabelsColor:e=!1,dashboardId:t,label:a=(0,d.t)("Color scheme"),onChange:l=(()=>{}),value:i,clearable:h=!1,defaultScheme:m,choices:_=[],schemes:S={},isLinear:k,...x})=>{const H=(0,n.Fg)(),I=(0,s.useMemo)((()=>{if(t)return"dashboard";let e=i||m;if("SUPERSET_DEFAULT"===e){var a;const t=o()(S)?S():S;e=null==t||null==(a=t.SUPERSET_DEFAULT)?void 0:a.id}return e}),[t,m,S,i]),B=(0,s.useMemo)((()=>{if(t)return[(0,v.tZ)(y,{value:"dashboard",label:(0,d.t)("dashboard"),children:(0,v.tZ)(p.u,{title:C,children:(0,d.t)("Dashboard scheme")})},"dashboard")];const e=o()(S)?S():S,a=o()(_)?_():_,l=[],i=a.filter((e=>{const t=e[0],a="SUPERSET_DEFAULT"!==t&&!l.includes(t);return l.push(t),a})).reduce(((t,[a])=>{var l,r;const i=e[a];let o=[];i&&(o=k?i.getColors(10):i.colors);const s={customLabel:(0,v.tZ)(Z,{id:i.id,label:i.label,colors:o}),label:(null==e||null==(l=e[a])?void 0:l.label)||a,value:a};return t[null!=(r=i.group)?r:c.I.Other].options.push(s),t}),{[c.I.Custom]:{title:c.I.Custom,label:(0,d.t)("Custom color palettes"),options:[]},[c.I.Featured]:{title:c.I.Featured,label:(0,d.t)("Featured color palettes"),options:[]},[c.I.Other]:{title:c.I.Other,label:(0,d.t)("Other color palettes"),options:[]}}),s=Object.values(i).filter((e=>e.options.length>0)).map((e=>({...e,options:r()(e.options,(e=>e.label))})));return 1===s.length&&s[0].title===c.I.Other?s[0].options.map(((e,t)=>(0,v.tZ)(y,{value:e.value,label:e.label,children:e.customLabel},t))):s.map(((e,t)=>(0,v.tZ)(w,{label:e.label,children:e.options.map(((e,a)=>(0,v.tZ)(y,{value:e.value,label:e.label,children:e.customLabel},`${t}-${a}`)))},t)))}),[_,t,k,S]);return(0,v.BX)(v.HY,{children:[(0,v.tZ)(b.Z,{...x,label:(0,v.tZ)(T,{label:a,hasCustomLabelsColor:e,dashboardId:t})}),(0,v.tZ)(g.Qr,{css:u.iv`
          width: 100%;
          & .ant-select-item.ant-select-item-group {
            padding-left: ${H.gridUnit}px;
            font-size: ${H.typography.sizes.m}px;
          }
          & .ant-select-item-option-grouped {
            padding-left: ${3*H.gridUnit}px;
          }
        `,"aria-label":(0,d.t)("Select color scheme"),allowClear:h,disabled:!!t,onChange:e=>l(e),placeholder:(0,d.t)("Select scheme"),value:I,getPopupContainer:e=>e.parentNode,showSearch:!0,filterOption:(e,t)=>(0,f.Dz)(e,t,["label","value"],!0),children:B})]})}},64838:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var l=a(61988),r=a(51995),i=a(31069),o=a(93185),s=a(28216),n=a(67294),d=a(73727),c=a(15926),u=a.n(c),h=a(40768),b=a(34858),p=a(19259),m=a(25772),g=a(32228),f=a(38703),v=a(86074),Z=a(93139),y=a(61337),w=a(14114),_=a(34581),S=a(13322),C=a(17198),T=a(36674),k=a(20818),x=a(58593),H=a(27989),I=a(12),B=a(79789),D=a(60718),E=a(16550),O=a(4715),R=a(83862),N=a(21742),F=a(37921),M=a(35944);const L=function({dashboard:e,hasPerm:t,bulkSelectEnabled:a,userId:s,openDashboardEditModal:c,favoriteStatus:u,saveFavoriteStatus:b,showThumbnails:p,handleBulkDashboardExport:m,onDelete:g}){const f=(0,E.k6)(),v=t("can_write"),Z=t("can_write"),y=t("can_export"),w=(0,r.Fg)(),[C,k]=(0,n.useState)(null),[x,H]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(!x&&e.id&&null==C&&(0,o.cr)(o.TT.Thumbnails)){if(e.thumbnail_url)return void k(e.thumbnail_url||"");H(!0),i.Z.get({endpoint:`/api/v1/dashboard/${e.id}`}).then((({json:e={}})=>{k(e.thumbnail_url||""),H(!1)}))}}),[e,C]);const I=(0,M.BX)(R.Menu,{children:[v&&c&&(0,M.tZ)(R.Menu.Item,{children:(0,M.BX)("div",{role:"button",tabIndex:0,className:"action-button",onClick:()=>null==c?void 0:c(e),children:[(0,M.tZ)(S.Z.EditAlt,{iconSize:"l"})," ",(0,l.t)("Edit")]})}),y&&(0,M.tZ)(R.Menu.Item,{children:(0,M.BX)("div",{role:"button",tabIndex:0,onClick:()=>m([e]),className:"action-button",children:[(0,M.tZ)(S.Z.Share,{iconSize:"l"})," ",(0,l.t)("Export")]})}),Z&&(0,M.tZ)(R.Menu.Item,{children:(0,M.BX)("div",{role:"button",tabIndex:0,className:"action-button",onClick:()=>g(e),children:[(0,M.tZ)(S.Z.Trash,{iconSize:"l"})," ",(0,l.t)("Delete")]})})]});return(0,M.tZ)(h.ZB,{onClick:()=>{a||f.push(e.url)},children:(0,M.tZ)(N.Z,{loading:e.loading||!1,title:e.dashboard_title,certifiedBy:e.certified_by,certificationDetails:e.certification_details,titleRight:(0,M.tZ)(F.Z,{children:e.published?(0,l.t)("published"):(0,l.t)("draft")}),cover:(0,o.cr)(o.TT.Thumbnails)&&p?null:(0,M.tZ)(M.HY,{}),url:a?void 0:e.url,linkComponent:d.rU,imgURL:e.thumbnail_url,imgFallbackURL:"/static/assets/images/dashboard-card-fallback.svg",description:(0,l.t)("Modified %s",e.changed_on_delta_humanized),coverLeft:(0,M.tZ)(_.Z,{users:e.owners||[]}),actions:(0,M.BX)(N.Z.Actions,{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:[s&&(0,M.tZ)(T.Z,{itemId:e.id,saveFaveStar:b,isStarred:u}),(0,M.tZ)(O.Gj,{overlay:I,children:(0,M.tZ)(S.Z.MoreVert,{iconColor:w.colors.grayscale.base})})]})})})};var P;!function(e){e.PUBLISHED="published",e.DRAFT="draft"}(P||(P={}));var z=a(12617),X=a(54070);const A=(0,l.t)('The passwords for the databases below are needed in order to import them together with the dashboards. Please note that the "Secure Extra" and "Certificate" sections of the database configuration are not present in export files, and should be added manually after the import if they are needed.'),$=(0,l.t)("You are importing one or more dashboards that already exist. Overwriting might cause you to lose some of your work. Are you sure you want to overwrite?"),q=r.iK.div`
  color: ${({theme:e})=>e.colors.grayscale.base};
`,U=["id","dashboard_title","published","url","slug","changed_by","changed_on_delta_humanized","owners.id","owners.first_name","owners.last_name","owners","tags.id","tags.name","tags.type","status","certified_by","certification_details","changed_on"],j=(0,w.ZP)((function(e){var t;const{addDangerToast:a,addSuccessToast:r,user:c}=e,{roles:w}=(0,s.v9)((e=>e.user)),E=(0,z.R)("can_read","Tag",w),{state:{loading:O,resourceCount:R,resourceCollection:N,bulkSelectEnabled:F},setResourceCollection:j,hasPerm:Y,fetchData:V,toggleBulkSelect:W,refreshData:K}=(0,b.Yi)("dashboard",(0,l.t)("dashboard"),a,void 0,void 0,void 0,void 0,U),Q=(0,n.useMemo)((()=>N.map((e=>e.id))),[N]),[G,J]=(0,b.NE)("dashboard",Q,a),[ee,te]=(0,n.useState)(null),[ae,le]=(0,n.useState)(null),[re,ie]=(0,n.useState)(!1),[oe,se]=(0,n.useState)([]),[ne,de]=(0,n.useState)(!1),[ce,ue]=(0,n.useState)([]),[he,be]=(0,n.useState)([]),[pe,me]=(0,n.useState)([]),ge=(0,y.OH)(null==c||null==(t=c.userId)?void 0:t.toString(),null),fe=Y("can_write"),ve=Y("can_write"),Ze=Y("can_write"),ye=Y("can_export"),we=[{id:"changed_on_delta_humanized",desc:!0}];function _e(e){te(e)}function Se(e){return i.Z.get({endpoint:`/api/v1/dashboard/${e.id}`}).then((({json:e={}})=>{j(N.map((t=>{var a;if(t.id===(null==e||null==(a=e.result)?void 0:a.id)){const{changed_by_name:a,changed_by:l,dashboard_title:r="",slug:i="",json_metadata:o="",changed_on_delta_humanized:s,url:n="",certified_by:d="",certification_details:c="",owners:u,tags:h}=e.result;return{...t,changed_by_name:a,changed_by:l,dashboard_title:r,slug:i,json_metadata:o,changed_on_delta_humanized:s,url:n,certified_by:d,certification_details:c,owners:u,tags:h}}return t})))}),(0,h.v$)((e=>a((0,l.t)("An error occurred while fetching dashboards: %s",e)))))}const Ce=e=>{const t=e.map((({id:e})=>e));(0,g.Z)("dashboard",t,(()=>{de(!1)})),de(!0)},Te=(0,n.useMemo)((()=>[{Cell:({row:{original:{id:e}}})=>(null==c?void 0:c.userId)&&(0,M.tZ)(T.Z,{itemId:e,saveFaveStar:G,isStarred:J[e]}),Header:"",id:"id",disableSortBy:!0,size:"xs",hidden:!(null!=c&&c.userId)},{Cell:({row:{original:{url:e,dashboard_title:t,certified_by:a,certification_details:l}}})=>(0,M.BX)(d.rU,{to:e,children:[a&&(0,M.BX)(M.HY,{children:[(0,M.tZ)(B.Z,{certifiedBy:a,details:l})," "]}),t]}),Header:(0,l.t)("Name"),accessor:"dashboard_title"},{Cell:({row:{original:{status:e}}})=>e===P.PUBLISHED?(0,l.t)("Published"):(0,l.t)("Draft"),Header:(0,l.t)("Status"),accessor:"published",size:"xl"},{Cell:({row:{original:{tags:e=[]}}})=>(0,M.tZ)(m.P,{tags:e.filter((e=>"TagTypes.custom"===e.type||1===e.type)),maxTags:3}),Header:(0,l.t)("Tags"),accessor:"tags",disableSortBy:!0,hidden:!(0,o.cr)(o.TT.TaggingSystem)},{Cell:({row:{original:{owners:e=[]}}})=>(0,M.tZ)(_.Z,{users:e}),Header:(0,l.t)("Owners"),accessor:"owners",disableSortBy:!0,cellProps:{style:{padding:"0px"}},size:"xl"},{Cell:({row:{original:{changed_on_delta_humanized:e,changed_by:t}}})=>(0,M.tZ)(X.w,{date:e,user:t}),Header:(0,l.t)("Last modified"),accessor:"changed_on_delta_humanized",size:"xl"},{Cell:({row:{original:e}})=>(0,M.BX)(q,{className:"actions",children:[Ze&&(0,M.tZ)(p.Z,{title:(0,l.t)("Please confirm"),description:(0,M.BX)(M.HY,{children:[(0,l.t)("Are you sure you want to delete")," ",(0,M.tZ)("b",{children:e.dashboard_title}),"?"]}),onConfirm:()=>(0,h.Iu)(e,K,r,a),children:e=>(0,M.tZ)(x.u,{id:"delete-action-tooltip",title:(0,l.t)("Delete"),placement:"bottom",children:(0,M.tZ)("span",{role:"button",tabIndex:0,className:"action-button",onClick:e,children:(0,M.tZ)(S.Z.Trash,{})})})}),ye&&(0,M.tZ)(x.u,{id:"export-action-tooltip",title:(0,l.t)("Export"),placement:"bottom",children:(0,M.tZ)("span",{role:"button",tabIndex:0,className:"action-button",onClick:()=>Ce([e]),children:(0,M.tZ)(S.Z.Share,{})})}),ve&&(0,M.tZ)(x.u,{id:"edit-action-tooltip",title:(0,l.t)("Edit"),placement:"bottom",children:(0,M.tZ)("span",{role:"button",tabIndex:0,className:"action-button",onClick:()=>_e(e),children:(0,M.tZ)(S.Z.EditAlt,{})})})]}),Header:(0,l.t)("Actions"),id:"actions",hidden:!ve&&!Ze&&!ye,disableSortBy:!0},{accessor:I.J.ChangedBy,hidden:!0}]),[null==c?void 0:c.userId,ve,Ze,ye,G,J,K,r,a]),ke=(0,n.useMemo)((()=>({Header:(0,l.t)("Favorite"),key:"favorite",id:"id",urlDisplay:"favorite",input:"select",operator:Z.p.DashboardIsFav,unfilteredLabel:(0,l.t)("Any"),selects:[{label:(0,l.t)("Yes"),value:!0},{label:(0,l.t)("No"),value:!1}]})),[]),xe=(0,n.useMemo)((()=>[{Header:(0,l.t)("Name"),key:"search",id:"dashboard_title",input:"search",operator:Z.p.TitleOrSlug},{Header:(0,l.t)("Status"),key:"published",id:"published",input:"select",operator:Z.p.Equals,unfilteredLabel:(0,l.t)("Any"),selects:[{label:(0,l.t)("Published"),value:!0},{label:(0,l.t)("Draft"),value:!1}]},...(0,o.cr)(o.TT.TaggingSystem)&&E?[{Header:(0,l.t)("Tag"),key:"tags",id:"tags",input:"select",operator:Z.p.DashboardTagById,unfilteredLabel:(0,l.t)("All"),fetchSelects:D.m}]:[],{Header:(0,l.t)("Owner"),key:"owner",id:"owners",input:"select",operator:Z.p.RelationManyMany,unfilteredLabel:(0,l.t)("All"),fetchSelects:(0,h.tm)("dashboard","owners",(0,h.v$)((e=>a((0,l.t)("An error occurred while fetching dashboard owner values: %s",e)))),e.user),paginate:!0},...null!=c&&c.userId?[ke]:[],{Header:(0,l.t)("Certified"),key:"certified",id:"id",urlDisplay:"certified",input:"select",operator:Z.p.DashboardIsCertified,unfilteredLabel:(0,l.t)("Any"),selects:[{label:(0,l.t)("Yes"),value:!0},{label:(0,l.t)("No"),value:!1}]},{Header:(0,l.t)("Modified by"),key:"changed_by",id:"changed_by",input:"select",operator:Z.p.RelationOneMany,unfilteredLabel:(0,l.t)("All"),fetchSelects:(0,h.tm)("dashboard","changed_by",(0,h.v$)((e=>(0,l.t)("An error occurred while fetching dataset datasource values: %s",e))),c),paginate:!0}]),[a,ke,e.user]),He=[{desc:!1,id:"dashboard_title",label:(0,l.t)("Alphabetical"),value:"alphabetical"},{desc:!0,id:"changed_on_delta_humanized",label:(0,l.t)("Recently modified"),value:"recently_modified"},{desc:!1,id:"changed_on_delta_humanized",label:(0,l.t)("Least recently modified"),value:"least_recently_modified"}],Ie=(0,n.useCallback)((e=>(0,M.tZ)(L,{dashboard:e,hasPerm:Y,bulkSelectEnabled:F,showThumbnails:ge?ge.thumbnails:(0,o.cr)(o.TT.Thumbnails),userId:null==c?void 0:c.userId,loading:O,openDashboardEditModal:_e,saveFavoriteStatus:G,favoriteStatus:J[e.id],handleBulkDashboardExport:Ce,onDelete:e=>le(e)})),[F,J,Y,O,null==c?void 0:c.userId,G,ge]),Be=[];return(Ze||ye)&&Be.push({name:(0,l.t)("Bulk select"),buttonStyle:"secondary",onClick:W}),fe&&(Be.push({name:(0,M.BX)(M.HY,{children:[(0,M.tZ)("i",{className:"fa fa-plus"})," ",(0,l.t)("Dashboard")]}),buttonStyle:"primary",onClick:()=>{window.location.assign("/dashboard/new")}}),Be.push({name:(0,M.tZ)(x.u,{id:"import-tooltip",title:(0,l.t)("Import dashboards"),placement:"bottomRight",children:(0,M.tZ)(S.Z.Import,{})}),buttonStyle:"link",onClick:()=>{ie(!0)}})),(0,M.BX)(M.HY,{children:[(0,M.tZ)(v.Z,{name:(0,l.t)("Dashboards"),buttons:Be}),(0,M.tZ)(p.Z,{title:(0,l.t)("Please confirm"),description:(0,l.t)("Are you sure you want to delete the selected dashboards?"),onConfirm:function(e){return i.Z.delete({endpoint:`/api/v1/dashboard/?q=${u().encode(e.map((({id:e})=>e)))}`}).then((({json:e={}})=>{K(),r(e.message)}),(0,h.v$)((e=>a((0,l.t)("There was an issue deleting the selected dashboards: ",e)))))},children:e=>{const t=[];return Ze&&t.push({key:"delete",name:(0,l.t)("Delete"),type:"danger",onSelect:e}),ye&&t.push({key:"export",name:(0,l.t)("Export"),type:"primary",onSelect:Ce}),(0,M.BX)(M.HY,{children:[ee&&(0,M.tZ)(k.Z,{dashboardId:ee.id,show:!0,onHide:()=>te(null),onSubmit:Se}),ae&&(0,M.tZ)(C.Z,{description:(0,M.BX)(M.HY,{children:[(0,l.t)("Are you sure you want to delete")," ",(0,M.tZ)("b",{children:ae.dashboard_title}),"?"]}),onConfirm:()=>{(0,h.Iu)(ae,K,r,a,void 0,null==c?void 0:c.userId),le(null)},onHide:()=>le(null),open:!!ae,title:(0,l.t)("Please confirm")}),(0,M.tZ)(Z.Z,{bulkActions:t,bulkSelectEnabled:F,cardSortSelectOptions:He,className:"dashboard-list-view",columns:Te,count:R,data:N,disableBulkSelect:W,fetchData:V,refreshData:K,filters:xe,initialSort:we,loading:O,pageSize:25,addSuccessToast:r,addDangerToast:a,showThumbnails:ge?ge.thumbnails:(0,o.cr)(o.TT.Thumbnails),renderCard:Ie,defaultViewMode:(0,o.cr)(o.TT.ListviewsDefaultCardView)?"card":"table",enableBulkTag:!0,bulkTagResourceName:"dashboard"})]})}}),(0,M.tZ)(H.Z,{resourceName:"dashboard",resourceLabel:(0,l.t)("dashboard"),passwordsNeededMessage:A,confirmOverwriteMessage:$,addDangerToast:a,addSuccessToast:r,onModelImport:()=>{ie(!1),K(),r((0,l.t)("Dashboard imported"))},show:re,onHide:()=>{ie(!1)},passwordFields:oe,setPasswordFields:se,sshTunnelPasswordFields:ce,setSSHTunnelPasswordFields:ue,sshTunnelPrivateKeyFields:he,setSSHTunnelPrivateKeyFields:be,sshTunnelPrivateKeyPasswordFields:pe,setSSHTunnelPrivateKeyPasswordFields:me}),ne&&(0,M.tZ)(f.Z,{})]})}))}}]);
//# sourceMappingURL=03c383f103ff240d67dc.chunk.js.map