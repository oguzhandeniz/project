{"version":3,"file":"3fdbe184dd33634f20f9.chunk.js","mappings":"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","sources":["webpack://superset/./src/features/home/SubMenu.tsx","webpack://superset/./src/features/queries/QueryPreviewModal.tsx","webpack://superset/./src/pages/QueryHistoryList/index.tsx","webpack://superset/./src/utils/getOwnerName.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactNode, useState, useEffect, FunctionComponent } from 'react';\n\nimport { Link, useHistory } from 'react-router-dom';\nimport { styled, SupersetTheme, css, t } from '@superset-ui/core';\nimport cx from 'classnames';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { debounce } from 'lodash';\nimport { Row } from 'src/components';\nimport { Menu, MenuMode, MainNav as DropdownMenu } from 'src/components/Menu';\nimport Button, { OnClickHandler } from 'src/components/Button';\nimport Icons from 'src/components/Icons';\nimport { MenuObjectProps } from 'src/types/bootstrapTypes';\n\nconst StyledHeader = styled.div`\n  margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\n  .header {\n    font-weight: ${({ theme }) => theme.typography.weights.bold};\n    margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    text-align: left;\n    font-size: 18px;\n    padding: ${({ theme }) => theme.gridUnit * 3}px;\n    display: inline-block;\n    line-height: ${({ theme }) => theme.gridUnit * 9}px;\n  }\n  .nav-right {\n    display: flex;\n    align-items: center;\n    padding: ${({ theme }) => theme.gridUnit * 3.5}px 0;\n    margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    float: right;\n    position: absolute;\n    right: 0;\n    ul.ant-menu-root {\n      padding: 0px;\n    }\n    li[role='menuitem'] {\n      border: 0;\n      border-bottom: none;\n      &:hover {\n        border-bottom: transparent;\n      }\n    }\n  }\n  .nav-right-collapse {\n    display: flex;\n    align-items: center;\n    padding: 14px 0;\n    margin-right: 0;\n    float: left;\n    padding-left: 10px;\n  }\n  .menu {\n    background-color: ${({ theme }) => theme.colors.grayscale.light5};\n    .ant-menu-horizontal {\n      line-height: inherit;\n      .ant-menu-item {\n        border-bottom: none;\n        &:hover {\n          border-bottom: none;\n          text-decoration: none;\n        }\n      }\n    }\n    .ant-menu {\n      padding: ${({ theme }) => theme.gridUnit * 4}px 0px;\n    }\n  }\n\n  .ant-menu-horizontal:not(.ant-menu-dark) > .ant-menu-item {\n    margin: 0 ${({ theme }) => theme.gridUnit + 1}px;\n  }\n\n  .menu .ant-menu-item {\n    li,\n    div {\n      a,\n      div {\n        font-size: ${({ theme }) => theme.typography.sizes.s}px;\n        color: ${({ theme }) => theme.colors.secondary.dark1};\n\n        a {\n          margin: 0;\n          padding: ${({ theme }) => theme.gridUnit * 2}px\n            ${({ theme }) => theme.gridUnit * 4}px;\n          line-height: ${({ theme }) => theme.gridUnit * 5}px;\n\n          &:hover {\n            text-decoration: none;\n          }\n        }\n      }\n\n      &.no-router a {\n        padding: ${({ theme }) => theme.gridUnit * 2}px\n          ${({ theme }) => theme.gridUnit * 4}px;\n      }\n\n      &.active a {\n        background: ${({ theme }) => theme.colors.secondary.light4};\n        border-radius: ${({ theme }) => theme.borderRadius}px;\n      }\n    }\n\n    li.active > a,\n    li.active > div,\n    div.active > div,\n    li > a:hover,\n    li > a:focus,\n    li > div:hover,\n    div > div:hover,\n    div > a:hover {\n      background: ${({ theme }) => theme.colors.secondary.light4};\n      border-bottom: none;\n      border-radius: ${({ theme }) => theme.borderRadius}px;\n      margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n      text-decoration: none;\n    }\n  }\n\n  .btn-link {\n    padding: 10px 0;\n  }\n  .ant-menu-horizontal {\n    border: none;\n  }\n  @media (max-width: 767px) {\n    .header,\n    .nav-right {\n      position: relative;\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n  .ant-menu-submenu {\n    span[role='img'] {\n      position: absolute;\n      right: ${({ theme }) => -theme.gridUnit + -2}px;\n      top: ${({ theme }) => theme.gridUnit + 1}px !important;\n    }\n  }\n  .dropdown-menu-links > div.ant-menu-submenu-title,\n  .ant-menu-submenu-open.ant-menu-submenu-active > div.ant-menu-submenu-title {\n    color: ${({ theme }) => theme.colors.primary.dark1};\n  }\n`;\n\nconst styledDisabled = (theme: SupersetTheme) => css`\n  color: ${theme.colors.grayscale.light1};\n  cursor: not-allowed;\n\n  &:hover {\n    color: ${theme.colors.grayscale.light1};\n  }\n\n  .ant-menu-item-selected {\n    background-color: ${theme.colors.grayscale.light1};\n  }\n`;\n\ntype MenuChild = {\n  label: string;\n  name: string;\n  url?: string;\n  usesRouter?: boolean;\n  onClick?: () => void;\n  'data-test'?: string;\n};\n\nexport interface ButtonProps {\n  name: ReactNode;\n  onClick?: OnClickHandler;\n  'data-test'?: string;\n  buttonStyle:\n    | 'primary'\n    | 'secondary'\n    | 'dashed'\n    | 'link'\n    | 'warning'\n    | 'success'\n    | 'tertiary';\n}\n\nexport interface SubMenuProps {\n  buttons?: Array<ButtonProps>;\n  name?: string | ReactNode;\n  tabs?: MenuChild[];\n  activeChild?: MenuChild['name'];\n  /* If usesRouter is true, a react-router <Link> component will be used instead of href.\n   *  ONLY set usesRouter to true if SubMenu is wrapped in a react-router <Router>;\n   *  otherwise, a 'You should not use <Link> outside a <Router>' error will be thrown */\n  usesRouter?: boolean;\n  color?: string;\n  dropDownLinks?: Array<MenuObjectProps>;\n}\n\nconst { SubMenu } = DropdownMenu;\n\nconst SubMenuComponent: FunctionComponent<SubMenuProps> = props => {\n  const [showMenu, setMenu] = useState<MenuMode>('horizontal');\n  const [navRightStyle, setNavRightStyle] = useState('nav-right');\n\n  let hasHistory = true;\n  // If no parent <Router> component exists, useHistory throws an error\n  try {\n    useHistory();\n  } catch (err) {\n    // If error is thrown, we know not to use <Link> in render\n    hasHistory = false;\n  }\n\n  useEffect(() => {\n    function handleResize() {\n      if (window.innerWidth <= 767) setMenu('inline');\n      else setMenu('horizontal');\n\n      if (\n        props.buttons &&\n        props.buttons.length >= 3 &&\n        window.innerWidth >= 795\n      ) {\n        // eslint-disable-next-line no-unused-expressions\n        setNavRightStyle('nav-right');\n      } else if (\n        props.buttons &&\n        props.buttons.length >= 3 &&\n        window.innerWidth <= 795\n      ) {\n        setNavRightStyle('nav-right-collapse');\n      }\n    }\n    handleResize();\n    const resize = debounce(handleResize, 10);\n    window.addEventListener('resize', resize);\n    return () => window.removeEventListener('resize', resize);\n  }, [props.buttons]);\n\n  return (\n    <StyledHeader>\n      <Row className=\"menu\" role=\"navigation\">\n        {props.name && <div className=\"header\">{props.name}</div>}\n        <Menu mode={showMenu} style={{ backgroundColor: 'transparent' }}>\n          {props.tabs?.map(tab => {\n            if ((props.usesRouter || hasHistory) && !!tab.usesRouter) {\n              return (\n                <Menu.Item key={tab.label}>\n                  <div\n                    role=\"tab\"\n                    data-test={tab['data-test']}\n                    className={tab.name === props.activeChild ? 'active' : ''}\n                  >\n                    <div>\n                      <Link to={tab.url || ''}>{tab.label}</Link>\n                    </div>\n                  </div>\n                </Menu.Item>\n              );\n            }\n\n            return (\n              <Menu.Item key={tab.label}>\n                <div\n                  className={cx('no-router', {\n                    active: tab.name === props.activeChild,\n                  })}\n                  role=\"tab\"\n                >\n                  <a href={tab.url} onClick={tab.onClick}>\n                    {tab.label}\n                  </a>\n                </div>\n              </Menu.Item>\n            );\n          })}\n        </Menu>\n        <div className={navRightStyle}>\n          <Menu mode=\"horizontal\" triggerSubMenuAction=\"click\">\n            {props.dropDownLinks?.map((link, i) => (\n              <SubMenu\n                key={i}\n                title={link.label}\n                icon={<Icons.TriangleDown />}\n                popupOffset={[10, 20]}\n                className=\"dropdown-menu-links\"\n              >\n                {link.childs?.map(item => {\n                  if (typeof item === 'object') {\n                    return item.disable ? (\n                      <DropdownMenu.Item\n                        key={item.label}\n                        css={styledDisabled}\n                        disabled\n                      >\n                        <Tooltip\n                          placement=\"top\"\n                          title={t(\n                            \"Enable 'Allow file uploads to database' in any database's settings\",\n                          )}\n                        >\n                          {item.label}\n                        </Tooltip>\n                      </DropdownMenu.Item>\n                    ) : (\n                      <DropdownMenu.Item key={item.label}>\n                        <a href={item.url} onClick={item.onClick}>\n                          {item.label}\n                        </a>\n                      </DropdownMenu.Item>\n                    );\n                  }\n                  return null;\n                })}\n              </SubMenu>\n            ))}\n          </Menu>\n          {props.buttons?.map((btn, i) => (\n            <Button\n              key={i}\n              buttonStyle={btn.buttonStyle}\n              onClick={btn.onClick}\n              data-test={btn['data-test']}\n            >\n              {btn.name}\n            </Button>\n          ))}\n        </div>\n      </Row>\n      {props.children}\n    </StyledHeader>\n  );\n};\n\nexport default SubMenuComponent;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState } from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport Modal from 'src/components/Modal';\nimport cx from 'classnames';\nimport Button from 'src/components/Button';\nimport withToasts, {\n  ToastProps,\n} from 'src/components/MessageToasts/withToasts';\nimport SyntaxHighlighterCopy from 'src/features/queries/SyntaxHighlighterCopy';\nimport useQueryPreviewState from 'src/features/queries/hooks/useQueryPreviewState';\nimport { QueryObject } from 'src/views/CRUD/types';\n\nconst QueryTitle = styled.div`\n  color: ${({ theme }) => theme.colors.secondary.light2};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  margin-bottom: 0;\n  text-transform: uppercase;\n`;\n\nconst QueryLabel = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  padding: 4px 0 24px 0;\n`;\n\nconst QueryViewToggle = styled.div`\n  margin: 0 0 ${({ theme }) => theme.gridUnit * 6}px 0;\n`;\n\nconst TabButton = styled.div`\n  display: inline;\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  padding: ${({ theme }) => theme.gridUnit * 2}px\n    ${({ theme }) => theme.gridUnit * 4}px;\n  margin-right: ${({ theme }) => theme.gridUnit * 4}px;\n  color: ${({ theme }) => theme.colors.secondary.dark1};\n\n  &.active,\n  &:focus,\n  &:hover {\n    background: ${({ theme }) => theme.colors.secondary.light4};\n    border-bottom: none;\n    border-radius: ${({ theme }) => theme.borderRadius}px;\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  &:hover:not(.active) {\n    background: ${({ theme }) => theme.colors.secondary.light5};\n  }\n`;\nconst StyledModal = styled(Modal)`\n  .ant-modal-body {\n    padding: ${({ theme }) => theme.gridUnit * 6}px;\n  }\n\n  pre {\n    font-size: ${({ theme }) => theme.typography.sizes.xs}px;\n    font-weight: ${({ theme }) => theme.typography.weights.normal};\n    line-height: ${({ theme }) => theme.typography.sizes.l}px;\n    height: 375px;\n    border: none;\n  }\n`;\n\ninterface QueryPreviewModalProps extends ToastProps {\n  onHide: () => void;\n  openInSqlLab: (id: number) => any;\n  queries: QueryObject[];\n  query: QueryObject;\n  fetchData: (id: number) => any;\n  show: boolean;\n}\n\nfunction QueryPreviewModal({\n  onHide,\n  openInSqlLab,\n  queries,\n  query,\n  fetchData,\n  show,\n  addDangerToast,\n  addSuccessToast,\n}: QueryPreviewModalProps) {\n  const { handleKeyPress, handleDataChange, disablePrevious, disableNext } =\n    useQueryPreviewState<QueryObject>({\n      queries,\n      currentQueryId: query.id,\n      fetchData,\n    });\n\n  const [currentTab, setCurrentTab] = useState<'user' | 'executed'>('user');\n\n  const { id, sql, executed_sql } = query;\n  return (\n    <div role=\"none\" onKeyUp={handleKeyPress}>\n      <StyledModal\n        onHide={onHide}\n        show={show}\n        title={t('Query preview')}\n        footer={\n          <>\n            <Button\n              data-test=\"previous-query\"\n              key=\"previous-query\"\n              disabled={disablePrevious}\n              onClick={() => handleDataChange(true)}\n            >\n              {t('Previous')}\n            </Button>\n            <Button\n              data-test=\"next-query\"\n              key=\"next-query\"\n              disabled={disableNext}\n              onClick={() => handleDataChange(false)}\n            >\n              {t('Next')}\n            </Button>\n            <Button\n              data-test=\"open-in-sql-lab\"\n              key=\"open-in-sql-lab\"\n              buttonStyle=\"primary\"\n              onClick={() => openInSqlLab(id)}\n            >\n              {t('Open in SQL Lab')}\n            </Button>\n          </>\n        }\n      >\n        <QueryTitle>{t('Tab name')}</QueryTitle>\n        <QueryLabel>{query.tab_name}</QueryLabel>\n        <QueryViewToggle>\n          <TabButton\n            role=\"button\"\n            data-test=\"toggle-user-sql\"\n            className={cx({ active: currentTab === 'user' })}\n            onClick={() => setCurrentTab('user')}\n          >\n            {t('User query')}\n          </TabButton>\n          <TabButton\n            role=\"button\"\n            data-test=\"toggle-executed-sql\"\n            className={cx({ active: currentTab === 'executed' })}\n            onClick={() => setCurrentTab('executed')}\n          >\n            {t('Executed query')}\n          </TabButton>\n        </QueryViewToggle>\n        <SyntaxHighlighterCopy\n          addDangerToast={addDangerToast}\n          addSuccessToast={addSuccessToast}\n          language=\"sql\"\n        >\n          {(currentTab === 'user' ? sql : executed_sql) || ''}\n        </SyntaxHighlighterCopy>\n      </StyledModal>\n    </div>\n  );\n}\n\nexport default withToasts(QueryPreviewModal);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, useState, useCallback, ReactElement } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  QueryState,\n  styled,\n  SupersetClient,\n  t,\n  useTheme,\n} from '@superset-ui/core';\nimport moment from 'moment';\nimport {\n  createFetchRelated,\n  createFetchDistinct,\n  createErrorHandler,\n  shortenSQL,\n} from 'src/views/CRUD/utils';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport Label from 'src/components/Label';\nimport SubMenu, { SubMenuProps } from 'src/features/home/SubMenu';\nimport Popover from 'src/components/Popover';\nimport { commonMenuData } from 'src/features/home/commonMenuData';\nimport ListView, {\n  Filters,\n  FilterOperator,\n  ListViewProps,\n} from 'src/components/ListView';\nimport { Tooltip } from 'src/components/Tooltip';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport sql from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport { DATETIME_WITH_TIME_ZONE, TIME_WITH_MS } from 'src/constants';\nimport { QueryObject, QueryObjectColumns } from 'src/views/CRUD/types';\n\nimport Icons from 'src/components/Icons';\nimport QueryPreviewModal from 'src/features/queries/QueryPreviewModal';\nimport { addSuccessToast } from 'src/components/MessageToasts/actions';\nimport getOwnerName from 'src/utils/getOwnerName';\n\nconst PAGE_SIZE = 25;\nconst SQL_PREVIEW_MAX_LINES = 4;\n\nconst TopAlignedListView = styled(ListView)<ListViewProps<QueryObject>>`\n  table .table-cell {\n    vertical-align: top;\n  }\n`;\n\nSyntaxHighlighter.registerLanguage('sql', sql);\nconst StyledSyntaxHighlighter = styled(SyntaxHighlighter)`\n  height: ${({ theme }) => theme.gridUnit * 26}px;\n  overflow: hidden !important; /* needed to override inline styles */\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\ninterface QueryListProps {\n  addDangerToast: (msg: string, config?: any) => any;\n  addSuccessToast: (msg: string, config?: any) => any;\n}\n\nconst StyledTableLabel = styled.div`\n  .count {\n    margin-left: 5px;\n    color: ${({ theme }) => theme.colors.primary.base};\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst StyledPopoverItem = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n`;\n\nconst TimerLabel = styled(Label)`\n  text-align: left;\n  font-family: ${({ theme }) => theme.typography.families.monospace};\n`;\n\nfunction QueryList({ addDangerToast }: QueryListProps) {\n  const {\n    state: { loading, resourceCount: queryCount, resourceCollection: queries },\n    fetchData,\n  } = useListViewResource<QueryObject>(\n    'query',\n    t('Query history'),\n    addDangerToast,\n    false,\n  );\n\n  const [queryCurrentlyPreviewing, setQueryCurrentlyPreviewing] =\n    useState<QueryObject>();\n\n  const theme = useTheme();\n  const history = useHistory();\n\n  const handleQueryPreview = useCallback(\n    (id: number) => {\n      SupersetClient.get({\n        endpoint: `/api/v1/query/${id}`,\n      }).then(\n        ({ json = {} }) => {\n          setQueryCurrentlyPreviewing({ ...json.result });\n        },\n        createErrorHandler(errMsg =>\n          addDangerToast(\n            t('There was an issue previewing the selected query. %s', errMsg),\n          ),\n        ),\n      );\n    },\n    [addDangerToast],\n  );\n\n  const menuData: SubMenuProps = {\n    activeChild: 'Query history',\n    ...commonMenuData,\n  };\n\n  const initialSort = [{ id: QueryObjectColumns.StartTime, desc: true }];\n  const columns = useMemo(\n    () => [\n      {\n        Cell: ({\n          row: {\n            original: { status },\n          },\n        }: {\n          row: {\n            original: {\n              status: QueryState;\n            };\n          };\n        }) => {\n          const statusConfig: {\n            name: ReactElement | null;\n            label: string;\n          } = {\n            name: null,\n            label: '',\n          };\n          if (status === QueryState.Success) {\n            statusConfig.name = (\n              <Icons.Check iconColor={theme.colors.success.base} />\n            );\n            statusConfig.label = t('Success');\n          } else if (\n            status === QueryState.Failed ||\n            status === QueryState.Stopped\n          ) {\n            statusConfig.name = (\n              <Icons.XSmall\n                iconColor={\n                  status === QueryState.Failed\n                    ? theme.colors.error.base\n                    : theme.colors.grayscale.base\n                }\n              />\n            );\n            statusConfig.label = t('Failed');\n          } else if (status === QueryState.Running) {\n            statusConfig.name = (\n              <Icons.Running iconColor={theme.colors.primary.base} />\n            );\n            statusConfig.label = t('Running');\n          } else if (status === QueryState.TimedOut) {\n            statusConfig.name = (\n              <Icons.Offline iconColor={theme.colors.grayscale.light1} />\n            );\n            statusConfig.label = t('Offline');\n          } else if (\n            status === QueryState.Scheduled ||\n            status === QueryState.Pending\n          ) {\n            statusConfig.name = (\n              <Icons.Queued iconColor={theme.colors.grayscale.base} />\n            );\n            statusConfig.label = t('Scheduled');\n          }\n          return (\n            <Tooltip title={statusConfig.label} placement=\"bottom\">\n              <span>{statusConfig.name}</span>\n            </Tooltip>\n          );\n        },\n        accessor: QueryObjectColumns.Status,\n        size: 'xs',\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.StartTime,\n        Header: t('Time'),\n        size: 'xl',\n        Cell: ({\n          row: {\n            original: { start_time },\n          },\n        }: any) => {\n          const startMoment = moment.utc(start_time).local();\n          const formattedStartTimeData = startMoment\n            .format(DATETIME_WITH_TIME_ZONE)\n            .split(' ');\n\n          const formattedStartTime = (\n            <>\n              {formattedStartTimeData[0]} <br />\n              {formattedStartTimeData[1]}\n            </>\n          );\n          return formattedStartTime;\n        },\n      },\n      {\n        Header: t('Duration'),\n        size: 'xl',\n        Cell: ({\n          row: {\n            original: { status, start_time, end_time },\n          },\n        }: any) => {\n          const timerType = status === QueryState.Failed ? 'danger' : status;\n          const timerTime = end_time\n            ? moment(moment.utc(end_time - start_time)).format(TIME_WITH_MS)\n            : '00:00:00.000';\n          return (\n            <TimerLabel type={timerType} role=\"timer\">\n              {timerTime}\n            </TimerLabel>\n          );\n        },\n      },\n      {\n        accessor: QueryObjectColumns.TabName,\n        Header: t('Tab name'),\n        size: 'xl',\n      },\n      {\n        accessor: QueryObjectColumns.DatabaseName,\n        Header: t('Database'),\n        size: 'xl',\n      },\n      {\n        accessor: QueryObjectColumns.Database,\n        hidden: true,\n      },\n      {\n        accessor: QueryObjectColumns.Schema,\n        Header: t('Schema'),\n        size: 'xl',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { sql_tables: tables = [] },\n          },\n        }: any) => {\n          const names = tables.map((table: any) => table.table);\n          const main = names.length > 0 ? names.shift() : '';\n\n          if (names.length) {\n            return (\n              <StyledTableLabel>\n                <span>{main}</span>\n                <Popover\n                  placement=\"right\"\n                  title={t('TABLES')}\n                  trigger=\"click\"\n                  content={\n                    <>\n                      {names.map((name: string) => (\n                        <StyledPopoverItem key={name}>{name}</StyledPopoverItem>\n                      ))}\n                    </>\n                  }\n                >\n                  <span className=\"count\">(+{names.length})</span>\n                </Popover>\n              </StyledTableLabel>\n            );\n          }\n\n          return main;\n        },\n        accessor: QueryObjectColumns.SqlTables,\n        Header: t('Tables'),\n        size: 'xl',\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.UserFirstName,\n        Header: t('User'),\n        size: 'xl',\n        Cell: ({\n          row: {\n            original: { user },\n          },\n        }: any) => getOwnerName(user),\n      },\n      {\n        accessor: QueryObjectColumns.User,\n        hidden: true,\n      },\n      {\n        accessor: QueryObjectColumns.Rows,\n        Header: t('Rows'),\n        size: 'md',\n      },\n      {\n        accessor: QueryObjectColumns.Sql,\n        Header: t('SQL'),\n        Cell: ({ row: { original, id } }: any) => (\n          <div\n            tabIndex={0}\n            role=\"button\"\n            data-test={`open-sql-preview-${id}`}\n            onClick={() => setQueryCurrentlyPreviewing(original)}\n          >\n            <StyledSyntaxHighlighter language=\"sql\" style={github}>\n              {shortenSQL(original.sql, SQL_PREVIEW_MAX_LINES)}\n            </StyledSyntaxHighlighter>\n          </div>\n        ),\n      },\n      {\n        Header: t('Actions'),\n        id: 'actions',\n        disableSortBy: true,\n        Cell: ({\n          row: {\n            original: { id },\n          },\n        }: any) => (\n          <Tooltip title={t('Open query in SQL Lab')} placement=\"bottom\">\n            <Link to={`/sqllab?queryId=${id}`}>\n              <Icons.Full iconColor={theme.colors.grayscale.base} />\n            </Link>\n          </Tooltip>\n        ),\n      },\n    ],\n    [],\n  );\n\n  const filters: Filters = useMemo(\n    () => [\n      {\n        Header: t('Database'),\n        key: 'database',\n        id: 'database',\n        input: 'select',\n        operator: FilterOperator.RelationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'query',\n          'database',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t('An error occurred while fetching database values: %s', errMsg),\n            ),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('State'),\n        key: 'state',\n        id: 'status',\n        input: 'select',\n        operator: FilterOperator.Equals,\n        unfilteredLabel: 'All',\n        fetchSelects: createFetchDistinct(\n          'query',\n          'status',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t('An error occurred while fetching schema values: %s', errMsg),\n            ),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('User'),\n        key: 'user',\n        id: 'user',\n        input: 'select',\n        operator: FilterOperator.RelationOneMany,\n        unfilteredLabel: 'All',\n        fetchSelects: createFetchRelated(\n          'query',\n          'user',\n          createErrorHandler(errMsg =>\n            addDangerToast(\n              t('An error occurred while fetching user values: %s', errMsg),\n            ),\n          ),\n        ),\n        paginate: true,\n      },\n      {\n        Header: t('Time range'),\n        key: 'start_time',\n        id: 'start_time',\n        input: 'datetime_range',\n        operator: FilterOperator.Between,\n      },\n      {\n        Header: t('Search by query text'),\n        key: 'sql',\n        id: 'sql',\n        input: 'search',\n        operator: FilterOperator.Contains,\n      },\n    ],\n    [addDangerToast],\n  );\n\n  return (\n    <>\n      <SubMenu {...menuData} />\n      {queryCurrentlyPreviewing && (\n        <QueryPreviewModal\n          onHide={() => setQueryCurrentlyPreviewing(undefined)}\n          query={queryCurrentlyPreviewing}\n          queries={queries}\n          fetchData={handleQueryPreview}\n          openInSqlLab={(id: number) => history.push(`/sqllab?queryId=${id}`)}\n          show\n        />\n      )}\n      <TopAlignedListView\n        className=\"query-history-list-view\"\n        columns={columns}\n        count={queryCount}\n        data={queries}\n        fetchData={fetchData}\n        filters={filters}\n        initialSort={initialSort}\n        loading={loading}\n        pageSize={PAGE_SIZE}\n        highlightRowId={queryCurrentlyPreviewing?.id}\n        refreshData={() => {}}\n        addDangerToast={addDangerToast}\n        addSuccessToast={addSuccessToast}\n      />\n    </>\n  );\n}\n\nexport default withToasts(QueryList);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Owner from 'src/types/Owner';\n\nexport default function getOwnerName(owner?: Owner): string {\n  if (!owner) {\n    return '';\n  }\n  return `${owner.first_name} ${owner.last_name}`;\n}\n"],"names":["StyledHeader","styled","div","theme","gridUnit","typography","weights","bold","colors","grayscale","light5","sizes","s","secondary","dark1","light4","borderRadius","primary","styledDisabled","css","light1","SubMenu","DropdownMenu","props","_props$tabs","_props$dropDownLinks","_props$buttons","showMenu","setMenu","useState","navRightStyle","setNavRightStyle","hasHistory","useHistory","err","useEffect","handleResize","window","innerWidth","buttons","length","resize","_debounce","addEventListener","removeEventListener","_jsxs","children","Row","className","role","name","_jsx","Menu","mode","style","backgroundColor","tabs","map","tab","usesRouter","Item","activeChild","Link","to","url","label","cx","active","href","onClick","triggerSubMenuAction","dropDownLinks","link","i","_link$childs","title","icon","Icons","TriangleDown","popupOffset","childs","item","disable","disabled","Tooltip","placement","t","btn","Button","buttonStyle","QueryTitle","light2","QueryLabel","dark2","m","QueryViewToggle","TabButton","StyledModal","Modal","xs","normal","l","withToasts","onHide","openInSqlLab","queries","query","fetchData","show","addDangerToast","addSuccessToast","handleKeyPress","handleDataChange","disablePrevious","disableNext","useQueryPreviewState","currentQueryId","id","currentTab","setCurrentTab","sql","executed_sql","onKeyUp","footer","_Fragment","tab_name","SyntaxHighlighterCopy","language","TopAlignedListView","ListView","SyntaxHighlighter","registerLanguage","StyledSyntaxHighlighter","StyledTableLabel","base","StyledPopoverItem","TimerLabel","Label","families","monospace","state","loading","resourceCount","queryCount","resourceCollection","useListViewResource","queryCurrentlyPreviewing","setQueryCurrentlyPreviewing","useTheme","history","handleQueryPreview","useCallback","SupersetClient","get","endpoint","then","json","result","createErrorHandler","errMsg","menuData","commonMenuData","initialSort","QueryObjectColumns","StartTime","desc","columns","useMemo","Cell","row","original","status","statusConfig","QueryState","Success","Check","iconColor","success","Failed","Stopped","XSmall","error","Running","TimedOut","Offline","Scheduled","Pending","Queued","accessor","Status","size","disableSortBy","Header","start_time","formattedStartTimeData","moment","local","format","DATETIME_WITH_TIME_ZONE","split","end_time","timerType","timerTime","TIME_WITH_MS","type","TabName","DatabaseName","Database","hidden","Schema","sql_tables","tables","names","table","main","shift","Popover","trigger","content","SqlTables","UserFirstName","user","getOwnerName","User","Rows","Sql","tabIndex","github","shortenSQL","Full","filters","key","input","operator","FilterOperator","RelationOneMany","unfilteredLabel","fetchSelects","createFetchRelated","paginate","Equals","createFetchDistinct","Between","Contains","QueryPreviewModal","undefined","push","count","data","pageSize","highlightRowId","refreshData","owner","first_name","last_name"],"sourceRoot":""}