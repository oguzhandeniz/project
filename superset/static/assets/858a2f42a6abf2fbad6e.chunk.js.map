{"version":3,"file":"858a2f42a6abf2fbad6e.chunk.js","mappings":"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","sources":["webpack://superset/./node_modules/react-ultimate-pagination/lib/react-ultimate-pagination.js","webpack://superset/./packages/superset-ui-core/src/hooks/useTruncation/useChildElementTruncation.ts","webpack://superset/./src/components/FaveStar/index.tsx","webpack://superset/./src/components/DynamicEditableTitle/index.tsx","webpack://superset/./src/components/PageHeaderWithActions/index.tsx","webpack://superset/./src/components/ResizableSidebar/index.tsx","webpack://superset/./src/components/ResizableSidebar/useStoredSidebarWidth.ts","webpack://superset/./src/components/WarningIconWithTooltip/index.tsx","webpack://superset/./src/features/datasets/hooks/useDatasetLists.ts","webpack://superset/./src/features/datasets/AddDataset/types.tsx","webpack://superset/./src/features/datasets/styles.ts","webpack://superset/./src/features/datasets/AddDataset/Header/index.tsx","webpack://superset/./src/assets/images/chart.svg","webpack://superset/./src/components/TruncatedList/index.tsx","webpack://superset/./src/features/datasets/AddDataset/EditDataset/UsageTab/index.tsx","webpack://superset/./src/features/datasets/AddDataset/EditDataset/index.tsx","webpack://superset/./src/features/datasets/hooks/useGetDatasetRelatedCounts.ts","webpack://superset/./src/components/Table/sorters.ts","webpack://superset/./src/features/datasets/AddDataset/DatasetPanel/MessageContent.tsx","webpack://superset/./src/features/datasets/AddDataset/DatasetPanel/DatasetPanel.tsx","webpack://superset/./src/features/datasets/AddDataset/DatasetPanel/index.tsx","webpack://superset/./src/features/datasets/AddDataset/DatasetPanel/types.ts","webpack://superset/./src/features/datasets/AddDataset/LeftPanel/index.tsx","webpack://superset/./src/features/datasets/AddDataset/Footer/index.tsx","webpack://superset/./src/features/datasets/DatasetLayout/index.tsx","webpack://superset/./src/pages/DatasetCreation/index.tsx","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination-constants.js","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination-item-factories.js","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination-utils.js","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ITEM_TYPES = exports.createUltimatePagination = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _ultimatePagination = require('ultimate-pagination');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar renderItemComponentFunctionFactory = function renderItemComponentFunctionFactory(itemTypeToComponent, currentPage, onChange) {\n  var onItemClickFunctionFactory = function onItemClickFunctionFactory(_ref) {\n    var value = _ref.value,\n        isDisabled = _ref.isDisabled;\n\n    return function () {\n      if (!isDisabled && onChange && currentPage !== value) {\n        onChange(value);\n      }\n    };\n  };\n\n  return function (props) {\n    var ItemComponent = itemTypeToComponent[props.type];\n    var onItemClick = onItemClickFunctionFactory(props);\n    return _react2.default.createElement(ItemComponent, _extends({ onClick: onItemClick }, props));\n  };\n};\n\nvar createUltimatePagination = function createUltimatePagination(_ref2) {\n  var itemTypeToComponent = _ref2.itemTypeToComponent,\n      _ref2$WrapperComponen = _ref2.WrapperComponent,\n      WrapperComponent = _ref2$WrapperComponen === undefined ? 'div' : _ref2$WrapperComponen;\n\n  var UltimatePaginationComponent = function UltimatePaginationComponent(props) {\n    var currentPage = props.currentPage,\n        totalPages = props.totalPages,\n        boundaryPagesRange = props.boundaryPagesRange,\n        siblingPagesRange = props.siblingPagesRange,\n        hideEllipsis = props.hideEllipsis,\n        hidePreviousAndNextPageLinks = props.hidePreviousAndNextPageLinks,\n        hideFirstAndLastPageLinks = props.hideFirstAndLastPageLinks,\n        onChange = props.onChange,\n        disabled = props.disabled,\n        restProps = _objectWithoutProperties(props, ['currentPage', 'totalPages', 'boundaryPagesRange', 'siblingPagesRange', 'hideEllipsis', 'hidePreviousAndNextPageLinks', 'hideFirstAndLastPageLinks', 'onChange', 'disabled']);\n\n    var paginationModel = (0, _ultimatePagination.getPaginationModel)({\n      currentPage: currentPage,\n      totalPages: totalPages,\n      boundaryPagesRange: boundaryPagesRange,\n      siblingPagesRange: siblingPagesRange,\n      hideEllipsis: hideEllipsis,\n      hidePreviousAndNextPageLinks: hidePreviousAndNextPageLinks,\n      hideFirstAndLastPageLinks: hideFirstAndLastPageLinks\n    });\n    var renderItemComponent = renderItemComponentFunctionFactory(itemTypeToComponent, currentPage, onChange);\n    return _react2.default.createElement(\n      WrapperComponent,\n      restProps,\n      paginationModel.map(function (itemModel) {\n        return renderItemComponent(_extends({}, itemModel, {\n          isDisabled: !!disabled\n        }));\n      })\n    );\n  };\n\n  UltimatePaginationComponent.propTypes = {\n    currentPage: _propTypes2.default.number.isRequired,\n    totalPages: _propTypes2.default.number.isRequired,\n    boundaryPagesRange: _propTypes2.default.number,\n    siblingPagesRange: _propTypes2.default.number,\n    hideEllipsis: _propTypes2.default.bool,\n    hidePreviousAndNextPageLinks: _propTypes2.default.bool,\n    hideFirstAndLastPageLinks: _propTypes2.default.bool,\n    onChange: _propTypes2.default.func,\n    disabled: _propTypes2.default.bool\n  };\n\n  return UltimatePaginationComponent;\n};\n\nexports.createUltimatePagination = createUltimatePagination;\nexports.ITEM_TYPES = _ultimatePagination.ITEM_TYPES;","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useLayoutEffect, useRef, useState } from 'react';\n\n/**\n * This hook encapsulates logic to support truncation of child HTML\n * elements contained in a fixed-width parent HTML element.  Given\n * a ref to the parent element and optionally a ref to the \"+x\"\n * component that shows the number of truncated items, this hook\n * will return the number of elements that are not fully visible\n * (including those completely hidden) and whether any elements\n * are completely hidden.\n */\nconst useChildElementTruncation = () => {\n  const [elementsTruncated, setElementsTruncated] = useState(0);\n  const [hasHiddenElements, setHasHiddenElements] = useState(false);\n  const elementRef = useRef<HTMLDivElement>(null);\n  const plusRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    const onResize = () => {\n      const currentElement = elementRef.current;\n      if (!currentElement) {\n        return;\n      }\n      const plusRefElement = plusRef.current;\n      const { scrollWidth, clientWidth, childNodes } = currentElement;\n\n      if (scrollWidth > clientWidth) {\n        // \"...\" is around 6px wide\n        const truncationWidth = 6;\n        const plusSize = plusRefElement?.offsetWidth || 0;\n        const maxWidth = clientWidth - truncationWidth;\n        const elementsCount = childNodes.length;\n\n        let width = 0;\n        let hiddenElements = 0;\n        for (let i = 0; i < elementsCount; i += 1) {\n          const itemWidth = (childNodes[i] as HTMLElement).offsetWidth;\n          const remainingWidth = maxWidth - width - plusSize;\n\n          // assures it shows +{number} only when the item is not visible\n          if (remainingWidth <= 0) {\n            hiddenElements += 1;\n          }\n          width += itemWidth;\n        }\n\n        if (elementsCount > 1 && hiddenElements) {\n          setHasHiddenElements(true);\n          setElementsTruncated(hiddenElements);\n        } else {\n          setHasHiddenElements(false);\n          setElementsTruncated(1);\n        }\n      } else {\n        setHasHiddenElements(false);\n        setElementsTruncated(0);\n      }\n    };\n    const obs = new ResizeObserver(onResize);\n\n    const element = elementRef.current?.parentElement;\n    if (element) {\n      obs.observe(element);\n    }\n\n    onResize();\n\n    return () => {\n      obs.disconnect();\n    };\n  }, [plusRef.current]); // plus is rendered dynamically - the component rerenders the hook when plus appears, this makes sure that useLayoutEffect is rerun\n\n  return [elementRef, plusRef, elementsTruncated, hasHiddenElements] as const;\n};\n\nexport default useChildElementTruncation;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useCallback, useEffect, MouseEvent } from 'react';\n\nimport { css, t, styled } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport Icons from 'src/components/Icons';\n\nexport interface FaveStarProps {\n  itemId: number;\n  isStarred?: boolean;\n  showTooltip?: boolean;\n  saveFaveStar(id: number, isStarred: boolean): any;\n  fetchFaveStar?: (id: number) => void;\n}\n\nconst StyledLink = styled.a`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.xl}px;\n    display: flex;\n    padding: 0 0 0 ${theme.gridUnit * 2}px;\n  `};\n`;\n\nconst FaveStar = ({\n  itemId,\n  isStarred,\n  showTooltip,\n  saveFaveStar,\n  fetchFaveStar,\n}: FaveStarProps) => {\n  useEffect(() => {\n    fetchFaveStar?.(itemId);\n  }, [fetchFaveStar, itemId]);\n\n  const onClick = useCallback(\n    (e: MouseEvent) => {\n      e.preventDefault();\n      saveFaveStar(itemId, !!isStarred);\n    },\n    [isStarred, itemId, saveFaveStar],\n  );\n\n  const content = (\n    <StyledLink\n      href=\"#\"\n      onClick={onClick}\n      className=\"fave-unfave-icon\"\n      data-test=\"fave-unfave-icon\"\n      role=\"button\"\n    >\n      {isStarred ? <Icons.FavoriteSelected /> : <Icons.FavoriteUnselected />}\n    </StyledLink>\n  );\n\n  if (showTooltip) {\n    return (\n      <Tooltip\n        id=\"fave-unfave-tooltip\"\n        title={t('Click to favorite/unfavorite')}\n      >\n        {content}\n      </Tooltip>\n    );\n  }\n\n  return content;\n};\nexport default FaveStar;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport {\n  ChangeEvent,\n  KeyboardEvent,\n  memo,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { css, SupersetTheme, t } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useResizeDetector } from 'react-resize-detector';\n\nexport type DynamicEditableTitleProps = {\n  title: string;\n  placeholder: string;\n  onSave: (title: string) => void;\n  canEdit: boolean;\n  label: string | undefined;\n};\n\nconst titleStyles = (theme: SupersetTheme) => css`\n  display: flex;\n  font-size: ${theme.typography.sizes.xl}px;\n  font-weight: ${theme.typography.weights.bold};\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  & .dynamic-title,\n  & .dynamic-title-input {\n    display: inline-block;\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  & .dynamic-title {\n    cursor: default;\n  }\n  & .dynamic-title-input {\n    border: none;\n    padding: 0;\n    outline: none;\n\n    &::placeholder {\n      color: ${theme.colors.grayscale.light1};\n    }\n  }\n\n  & .input-sizer {\n    position: absolute;\n    left: -9999px;\n    display: inline-block;\n    white-space: pre;\n  }\n`;\n\nexport const DynamicEditableTitle = memo(\n  ({\n    title,\n    placeholder,\n    onSave,\n    canEdit,\n    label,\n  }: DynamicEditableTitleProps) => {\n    const [isEditing, setIsEditing] = useState(false);\n    const [currentTitle, setCurrentTitle] = useState(title || '');\n    const contentRef = useRef<HTMLInputElement>(null);\n    const [showTooltip, setShowTooltip] = useState(false);\n\n    const { width: inputWidth, ref: sizerRef } = useResizeDetector();\n    const { width: containerWidth, ref: containerRef } = useResizeDetector({\n      refreshMode: 'debounce',\n    });\n\n    useEffect(() => {\n      setCurrentTitle(title);\n    }, [title]);\n\n    useEffect(() => {\n      if (isEditing && contentRef?.current) {\n        contentRef.current.focus();\n        // move cursor and scroll to the end\n        if (contentRef.current.setSelectionRange) {\n          const { length } = contentRef.current.value;\n          contentRef.current.setSelectionRange(length, length);\n          contentRef.current.scrollLeft = contentRef.current.scrollWidth;\n        }\n      }\n    }, [isEditing]);\n\n    // a trick to make the input grow when user types text\n    // we make additional span component, place it somewhere out of view and copy input\n    // then we can measure the width of that span to resize the input element\n    useLayoutEffect(() => {\n      if (sizerRef?.current) {\n        sizerRef.current.textContent = currentTitle || placeholder;\n      }\n    }, [currentTitle, placeholder, sizerRef]);\n\n    useEffect(() => {\n      if (\n        contentRef.current &&\n        contentRef.current.scrollWidth > contentRef.current.clientWidth\n      ) {\n        setShowTooltip(true);\n      } else {\n        setShowTooltip(false);\n      }\n    }, [inputWidth, containerWidth]);\n\n    const handleClick = useCallback(() => {\n      if (!canEdit || isEditing) {\n        return;\n      }\n      setIsEditing(true);\n    }, [canEdit, isEditing]);\n\n    const handleBlur = useCallback(() => {\n      if (!canEdit) {\n        return;\n      }\n      const formattedTitle = currentTitle.trim();\n      setCurrentTitle(formattedTitle);\n      if (title !== formattedTitle) {\n        onSave(formattedTitle);\n      }\n      setIsEditing(false);\n    }, [canEdit, currentTitle, onSave, title]);\n\n    const handleChange = useCallback(\n      (ev: ChangeEvent<HTMLInputElement>) => {\n        if (!canEdit || !isEditing) {\n          return;\n        }\n        setCurrentTitle(ev.target.value);\n      },\n      [canEdit, isEditing],\n    );\n\n    const handleKeyPress = useCallback(\n      (ev: KeyboardEvent<HTMLInputElement>) => {\n        if (!canEdit) {\n          return;\n        }\n        if (ev.key === 'Enter') {\n          ev.preventDefault();\n          contentRef.current?.blur();\n        }\n      },\n      [canEdit],\n    );\n\n    return (\n      <div css={titleStyles} ref={containerRef}>\n        <Tooltip\n          id=\"title-tooltip\"\n          title={\n            showTooltip && currentTitle && !isEditing ? currentTitle : null\n          }\n        >\n          {canEdit ? (\n            <input\n              data-test=\"editable-title-input\"\n              className=\"dynamic-title-input\"\n              aria-label={label ?? t('Title')}\n              ref={contentRef}\n              onChange={handleChange}\n              onBlur={handleBlur}\n              onClick={handleClick}\n              onKeyPress={handleKeyPress}\n              placeholder={placeholder}\n              value={currentTitle}\n              css={css`\n                cursor: ${isEditing ? 'text' : 'pointer'};\n\n                ${inputWidth &&\n                inputWidth > 0 &&\n                css`\n                  width: ${inputWidth + 1}px;\n                `}\n              `}\n            />\n          ) : (\n            <span\n              className=\"dynamic-title\"\n              aria-label={label ?? t('Title')}\n              ref={contentRef}\n              data-test=\"editable-title\"\n            >\n              {currentTitle}\n            </span>\n          )}\n        </Tooltip>\n        <span\n          ref={sizerRef}\n          className=\"input-sizer\"\n          aria-hidden\n          tabIndex={-1}\n        />\n      </div>\n    );\n  },\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactNode, ReactElement } from 'react';\nimport { css, SupersetTheme, t, useTheme } from '@superset-ui/core';\nimport { AntdDropdown, AntdDropdownProps } from 'src/components';\nimport { TooltipPlacement } from 'src/components/Tooltip';\nimport {\n  DynamicEditableTitle,\n  DynamicEditableTitleProps,\n} from '../DynamicEditableTitle';\nimport CertifiedBadge, { CertifiedBadgeProps } from '../CertifiedBadge';\nimport FaveStar, { FaveStarProps } from '../FaveStar';\nimport Icons from '../Icons';\nimport Button from '../Button';\n\nexport const menuTriggerStyles = (theme: SupersetTheme) => css`\n  width: ${theme.gridUnit * 8}px;\n  height: ${theme.gridUnit * 8}px;\n  padding: 0;\n  border: 1px solid ${theme.colors.primary.dark2};\n\n  &.ant-btn > span.anticon {\n    line-height: 0;\n    transition: inherit;\n  }\n\n  &:hover:not(:focus) > span.anticon {\n    color: ${theme.colors.primary.light1};\n  }\n  &:focus-visible {\n    outline: 2px solid ${theme.colors.primary.dark2};\n  }\n`;\n\nconst headerStyles = (theme: SupersetTheme) => css`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  background-color: ${theme.colors.grayscale.light5};\n  height: ${theme.gridUnit * 16}px;\n  padding: 0 ${theme.gridUnit * 4}px;\n\n  .editable-title {\n    overflow: hidden;\n\n    & > input[type='button'],\n    & > span {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 100%;\n      white-space: nowrap;\n    }\n  }\n\n  span[role='button'] {\n    display: flex;\n    height: 100%;\n  }\n\n  .title-panel {\n    display: flex;\n    align-items: center;\n    min-width: 0;\n    margin-right: ${theme.gridUnit * 12}px;\n  }\n\n  .right-button-panel {\n    display: flex;\n    align-items: center;\n  }\n`;\n\nconst buttonsStyles = (theme: SupersetTheme) => css`\n  display: flex;\n  align-items: center;\n  padding-left: ${theme.gridUnit * 2}px;\n\n  & .fave-unfave-icon {\n    padding: 0 ${theme.gridUnit}px;\n\n    &:first-of-type {\n      padding-left: 0;\n    }\n  }\n`;\n\nconst additionalActionsContainerStyles = (theme: SupersetTheme) => css`\n  margin-left: ${theme.gridUnit * 2}px;\n`;\n\nexport type PageHeaderWithActionsProps = {\n  editableTitleProps: DynamicEditableTitleProps;\n  showTitlePanelItems: boolean;\n  certificatiedBadgeProps?: CertifiedBadgeProps;\n  showFaveStar: boolean;\n  showMenuDropdown?: boolean;\n  faveStarProps: FaveStarProps;\n  titlePanelAdditionalItems: ReactNode;\n  rightPanelAdditionalItems: ReactNode;\n  additionalActionsMenu: ReactElement;\n  menuDropdownProps: Omit<AntdDropdownProps, 'overlay'>;\n  tooltipProps?: {\n    text?: string;\n    placement?: TooltipPlacement;\n  };\n};\n\nexport const PageHeaderWithActions = ({\n  editableTitleProps,\n  showTitlePanelItems,\n  certificatiedBadgeProps,\n  showFaveStar,\n  faveStarProps,\n  titlePanelAdditionalItems,\n  rightPanelAdditionalItems,\n  additionalActionsMenu,\n  menuDropdownProps,\n  showMenuDropdown = true,\n  tooltipProps,\n}: PageHeaderWithActionsProps) => {\n  const theme = useTheme();\n  return (\n    <div css={headerStyles} className=\"header-with-actions\">\n      <div className=\"title-panel\">\n        <DynamicEditableTitle {...editableTitleProps} />\n        {showTitlePanelItems && (\n          <div css={buttonsStyles}>\n            {certificatiedBadgeProps?.certifiedBy && (\n              <CertifiedBadge {...certificatiedBadgeProps} />\n            )}\n            {showFaveStar && <FaveStar {...faveStarProps} />}\n            {titlePanelAdditionalItems}\n          </div>\n        )}\n      </div>\n      <div className=\"right-button-panel\">\n        {rightPanelAdditionalItems}\n        <div css={additionalActionsContainerStyles}>\n          {showMenuDropdown && (\n            <AntdDropdown\n              trigger={['click']}\n              overlay={additionalActionsMenu}\n              {...menuDropdownProps}\n            >\n              <Button\n                css={menuTriggerStyles}\n                buttonStyle=\"tertiary\"\n                aria-label={t('Menu actions trigger')}\n                tooltip={tooltipProps?.text}\n                placement={tooltipProps?.placement}\n                data-test=\"actions-trigger\"\n              >\n                <Icons.MoreHoriz\n                  iconColor={theme.colors.primary.dark2}\n                  iconSize=\"l\"\n                />\n              </Button>\n            </AntdDropdown>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { FC, ReactNode } from 'react';\nimport { Resizable } from 're-resizable';\nimport { styled } from '@superset-ui/core';\nimport useStoredSidebarWidth from './useStoredSidebarWidth';\n\nconst ResizableWrapper = styled.div`\n  position: absolute;\n  height: 100%;\n\n  :hover .sidebar-resizer::after {\n    background-color: ${({ theme }) => theme.colors.primary.base};\n  }\n\n  .sidebar-resizer {\n    // @z-index-above-sticky-header (100) + 1 = 101\n    z-index: 101;\n  }\n\n  .sidebar-resizer::after {\n    display: block;\n    content: '';\n    width: 1px;\n    height: 100%;\n    margin: 0 auto;\n  }\n`;\n\ntype Props = {\n  id: string;\n  initialWidth: number;\n  enable: boolean;\n  minWidth?: number;\n  maxWidth?: number;\n  children: (width: number) => ReactNode;\n};\n\nconst ResizableSidebar: FC<Props> = ({\n  id,\n  initialWidth,\n  minWidth,\n  maxWidth,\n  enable,\n  children,\n}) => {\n  const [width, setWidth] = useStoredSidebarWidth(id, initialWidth);\n\n  return (\n    <>\n      <ResizableWrapper>\n        <Resizable\n          enable={{ right: enable }}\n          handleClasses={{ right: 'sidebar-resizer' }}\n          size={{ width, height: '100%' }}\n          minWidth={minWidth}\n          maxWidth={maxWidth}\n          onResizeStop={(e, direction, ref, d) => setWidth(width + d.width)}\n        />\n      </ResizableWrapper>\n      {children(width)}\n    </>\n  );\n};\n\nexport default ResizableSidebar;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useRef, useState } from 'react';\nimport {\n  LocalStorageKeys,\n  setItem,\n  getItem,\n} from 'src/utils/localStorageHelpers';\n\nexport default function useStoredSidebarWidth(\n  id: string,\n  initialWidth: number,\n) {\n  const widthsMapRef = useRef<Record<string, number>>();\n  const [sidebarWidth, setSidebarWidth] = useState<number>(initialWidth);\n\n  useEffect(() => {\n    widthsMapRef.current =\n      widthsMapRef.current ??\n      getItem(LocalStorageKeys.CommonResizableSidebarWidths, {});\n    if (widthsMapRef.current[id]) {\n      setSidebarWidth(widthsMapRef.current[id]);\n    }\n  }, [id]);\n\n  function setStoredSidebarWidth(updatedWidth: number) {\n    setSidebarWidth(updatedWidth);\n    setItem(LocalStorageKeys.CommonResizableSidebarWidths, {\n      ...widthsMapRef.current,\n      [id]: updatedWidth,\n    });\n  }\n\n  return [sidebarWidth, setStoredSidebarWidth] as const;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useTheme, SafeMarkdown } from '@superset-ui/core';\nimport Icons, { IconType } from 'src/components/Icons';\nimport { Tooltip } from 'src/components/Tooltip';\n\nexport interface WarningIconWithTooltipProps {\n  warningMarkdown: string;\n  size?: IconType['iconSize'];\n  marginRight?: number;\n}\n\nfunction WarningIconWithTooltip({\n  warningMarkdown,\n  size,\n  marginRight,\n}: WarningIconWithTooltipProps) {\n  const theme = useTheme();\n  return (\n    <Tooltip\n      id=\"warning-tooltip\"\n      title={<SafeMarkdown source={warningMarkdown} />}\n    >\n      <Icons.AlertSolid\n        iconColor={theme.colors.alert.base}\n        iconSize={size}\n        css={{ marginRight: marginRight ?? theme.gridUnit * 2 }}\n      />\n    </Tooltip>\n  );\n}\n\nexport default WarningIconWithTooltip;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { SupersetClient, logging, t } from '@superset-ui/core';\nimport rison from 'rison';\nimport { addDangerToast } from 'src/components/MessageToasts/actions';\nimport { DatasetObject } from 'src/features/datasets/AddDataset/types';\nimport { DatabaseObject } from 'src/components/DatabaseSelector';\n\n/**\n * Retrieves all pages of dataset results\n */\nconst useDatasetsList = (\n  db:\n    | (DatabaseObject & {\n        owners: [number];\n      })\n    | undefined,\n  schema: string | null | undefined,\n) => {\n  const [datasets, setDatasets] = useState<DatasetObject[]>([]);\n  const encodedSchema = schema ? encodeURIComponent(schema) : undefined;\n\n  const getDatasetsList = useCallback(async (filters: object[]) => {\n    let results: DatasetObject[] = [];\n    let page = 0;\n    let count;\n\n    // If count is undefined or less than results, we need to\n    // asynchronously retrieve a page of dataset results\n    while (count === undefined || results.length < count) {\n      const queryParams = rison.encode_uri({ filters, page });\n      try {\n        // eslint-disable-next-line no-await-in-loop\n        const response = await SupersetClient.get({\n          endpoint: `/api/v1/dataset/?q=${queryParams}`,\n        });\n\n        // Reassign local count to response's count\n        ({ count } = response.json);\n\n        const {\n          json: { result },\n        } = response;\n\n        results = [...results, ...result];\n\n        page += 1;\n      } catch (error) {\n        addDangerToast(t('There was an error fetching dataset'));\n        logging.error(t('There was an error fetching dataset'), error);\n      }\n    }\n\n    setDatasets(results);\n  }, []);\n\n  useEffect(() => {\n    const filters = [\n      { col: 'database', opr: 'rel_o_m', value: db?.id },\n      { col: 'schema', opr: 'eq', value: encodedSchema },\n      { col: 'sql', opr: 'dataset_is_null_or_empty', value: true },\n    ];\n\n    if (schema) {\n      getDatasetsList(filters);\n    }\n  }, [db?.id, schema, encodedSchema, getDatasetsList]);\n\n  const datasetNames = useMemo(\n    () => datasets?.map(dataset => dataset.table_name),\n    [datasets],\n  );\n\n  return { datasets, datasetNames };\n};\n\nexport default useDatasetsList;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { DatabaseObject } from 'src/components/DatabaseSelector';\n\nexport enum DatasetActionType {\n  SelectDatabase,\n  SelectCatalog,\n  SelectSchema,\n  SelectTable,\n  ChangeDataset,\n}\n\nexport interface DatasetObject {\n  db: DatabaseObject & { owners: [number] };\n  catalog?: string | null;\n  schema?: string | null;\n  dataset_name: string;\n  table_name?: string | null;\n  explore_url?: string;\n}\n\nexport interface DatasetReducerPayloadType {\n  name: string;\n  value?: string;\n}\n\nexport type Schema = {\n  schema?: string | null | undefined;\n};\n\nexport type DSReducerActionType =\n  | {\n      type: DatasetActionType.SelectDatabase;\n      payload: Partial<DatasetObject>;\n    }\n  | {\n      type:\n        | DatasetActionType.ChangeDataset\n        | DatasetActionType.SelectCatalog\n        | DatasetActionType.SelectSchema\n        | DatasetActionType.SelectTable;\n      payload: DatasetReducerPayloadType;\n    };\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled, css, SupersetTheme } from '@superset-ui/core';\n\nexport const StyledLayoutWrapper = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: ${({ theme }) => theme.colors.grayscale.light5};\n`;\n\nexport const LeftColumn = styled.div<{ width?: number }>`\n  width: ${({ theme, width }) => width ?? theme.gridUnit * 80}px;\n  max-width: ${({ theme, width }) => width ?? theme.gridUnit * 80}px;\n  flex-direction: column;\n  flex: 1 0 auto;\n`;\n\nexport const RightColumn = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\nconst Row = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const OuterRow = styled(Row)`\n  flex: 1 0 auto;\n  position: relative;\n`;\n\nexport const PanelRow = styled(Row)`\n  flex: 1 0 auto;\n  height: auto;\n`;\n\nexport const FooterRow = styled(Row)`\n  flex: 0 0 auto;\n  height: ${({ theme }) => theme.gridUnit * 16}px;\n  z-index: 0;\n`;\n\nexport const StyledLayoutHeader = styled.div`\n  ${({ theme }) => `\n  flex: 0 0 auto;\n  height: ${theme.gridUnit * 16}px;\n  border-bottom: 2px solid ${theme.colors.grayscale.light2};\n\n  .header-with-actions {\n    height: ${theme.gridUnit * 15.5}px;\n  }\n  `}\n`;\n\nexport const StyledCreateDatasetTitle = styled.div`\n  ${({ theme }) => `\n  margin: ${theme.gridUnit * 4}px;\n  font-size: ${theme.typography.sizes.xl}px;\n  font-weight: ${theme.typography.weights.bold};\n  `}\n`;\n\nexport const StyledLayoutLeftPanel = styled.div`\n  ${({ theme }) => `\n  height: 100%;\n  border-right: 1px solid ${theme.colors.grayscale.light2};\n  `}\n`;\n\nexport const StyledLayoutDatasetPanel = styled.div`\n  width: 100%;\n  position: relative;\n`;\n\nexport const StyledLayoutRightPanel = styled.div`\n  ${({ theme }) => `\n  border-left: 1px solid ${theme.colors.grayscale.light2};\n  color: ${theme.colors.success.base};\n  `}\n`;\n\nexport const StyledLayoutFooter = styled.div`\n  ${({ theme }) => `\n  height: ${theme.gridUnit * 16}px;\n  width: 100%;\n  border-top: 1px solid ${theme.colors.grayscale.light2};\n  border-bottom: 1px solid ${theme.colors.grayscale.light2};\n  color: ${theme.colors.info.base};\n  border-top: ${theme.gridUnit / 4}px solid\n    ${theme.colors.grayscale.light2};\n  padding: ${theme.gridUnit * 4}px;\n  display: flex;\n  justify-content: flex-end;\n  background-color: ${theme.colors.grayscale.light5};\n  z-index: ${theme.zIndex.max}\n  `}\n`;\n\nexport const HeaderComponentStyles = styled.div`\n  .ant-btn {\n    span {\n      margin-right: 0;\n    }\n\n    &:disabled {\n      svg {\n        color: ${({ theme }) => theme.colors.grayscale.light1};\n      }\n    }\n  }\n`;\n\nexport const disabledSaveBtnStyles = (theme: SupersetTheme) => css`\n  width: ${theme.gridUnit * 21.5}px;\n\n  &:disabled {\n    background-color: ${theme.colors.grayscale.light3};\n    color: ${theme.colors.grayscale.light1};\n  }\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Dispatch } from 'react';\nimport { t } from '@superset-ui/core';\nimport { PageHeaderWithActions } from 'src/components/PageHeaderWithActions';\nimport Button from 'src/components/Button';\nimport Icons from 'src/components/Icons';\nimport { Menu } from 'src/components/Menu';\nimport { TooltipPlacement } from 'src/components/Tooltip';\nimport {\n  DatasetActionType,\n  DSReducerActionType,\n} from 'src/features/datasets/AddDataset/types';\nimport {\n  HeaderComponentStyles,\n  disabledSaveBtnStyles,\n  StyledCreateDatasetTitle,\n} from '../../styles';\n\nexport const DEFAULT_TITLE = t('New dataset');\n\nconst tooltipProps: { text: string; placement: TooltipPlacement } = {\n  text: t('Select a database table and create dataset'),\n  placement: 'bottomRight',\n};\n\nconst renderDisabledSaveButton = () => (\n  <Button\n    buttonStyle=\"primary\"\n    tooltip={tooltipProps?.text}\n    placement={tooltipProps?.placement}\n    disabled\n    css={disabledSaveBtnStyles}\n  >\n    <Icons.Save iconSize=\"m\" />\n    {t('Save')}\n  </Button>\n);\n\nconst renderOverlay = () => (\n  <Menu>\n    <Menu.Item>{t('Settings')}</Menu.Item>\n    <Menu.Item>{t('Delete')}</Menu.Item>\n  </Menu>\n);\n\nexport default function Header({\n  setDataset,\n  title = DEFAULT_TITLE,\n  editing = false,\n}: {\n  setDataset: Dispatch<DSReducerActionType>;\n  title?: string | null | undefined;\n  schema?: string | null | undefined;\n  editing?: boolean;\n}) {\n  const editableTitleProps = {\n    title: title ?? DEFAULT_TITLE,\n    placeholder: DEFAULT_TITLE,\n    onSave: (newDatasetName: string) => {\n      setDataset({\n        type: DatasetActionType.ChangeDataset,\n        payload: { name: 'dataset_name', value: newDatasetName },\n      });\n    },\n    canEdit: false,\n    label: t('dataset name'),\n  };\n\n  return (\n    <HeaderComponentStyles>\n      {editing ? (\n        <PageHeaderWithActions\n          editableTitleProps={editableTitleProps}\n          showTitlePanelItems={false}\n          showFaveStar={false}\n          faveStarProps={{ itemId: 1, saveFaveStar: () => {} }}\n          titlePanelAdditionalItems={<></>}\n          rightPanelAdditionalItems={renderDisabledSaveButton()}\n          additionalActionsMenu={renderOverlay()}\n          menuDropdownProps={{\n            disabled: true,\n          }}\n          tooltipProps={tooltipProps}\n        />\n      ) : (\n        <StyledCreateDatasetTitle>\n          {title || DEFAULT_TITLE}\n        </StyledCreateDatasetTitle>\n      )}\n    </HeaderComponentStyles>\n  );\n}\n","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nconst SvgChart = ({\n  title,\n  titleId,\n  ...props\n}, ref) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 160,\n  height: 166,\n  fill: \"none\",\n  ref: ref,\n  \"aria-labelledby\": titleId\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n  id: titleId\n}, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FAFAFA\",\n  fillRule: \"evenodd\",\n  d: \"M123.638 8a.5.5 0 0 0-.5.5V158h28.758V8.5a.5.5 0 0 0-.5-.5zM84.793 40.643a.5.5 0 0 1 .5-.5h27.759a.5.5 0 0 1 .5.5V158H84.793zM46.95 72.285a.5.5 0 0 0-.5.5V158h28.758V72.785a.5.5 0 0 0-.5-.5zM8.604 93.715a.5.5 0 0 0-.5.5V158h28.758V94.215a.5.5 0 0 0-.5-.5z\",\n  clipRule: \"evenodd\"\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#D9D9D9\",\n  d: \"M123.138 158h-.5v.5h.5zm28.758 0v.5h.5v-.5zm-38.344 0v.5h.5v-.5zm-28.759 0h-.5v.5h.5zm-38.344-.001h-.5v.5h.5zm28.758 0v.5h.5v-.5zM8.104 158h-.5v.5h.5zm28.758 0v.5h.5v-.5zM123.639 8.5v-1a1 1 0 0 0-1 1zm0 149.5V8.5h-1V158zm28.258-.5h-28.758v1h28.758zm-.5-149V158h1V8.5zm0 0h1a1 1 0 0 0-1-1zm-27.758 0h27.758v-1h-27.758zM85.293 39.643a1 1 0 0 0-1 1h1zm27.759 0H85.293v1h27.759zm1 1a1 1 0 0 0-1-1v1zm0 117.357V40.643h-1V158zm-29.259.5h28.759v-1H84.793zm-.5-117.857V158h1V40.643zM46.95 72.785v-1a1 1 0 0 0-1 1zm0 85.214V72.785h-1V158zm28.258-.5H46.45v1h28.758zm-.5-84.714V158h1V72.785zm0 0h1a1 1 0 0 0-1-1zm-27.758 0h27.758v-1H46.95zM8.604 94.215v-1a1 1 0 0 0-1 1zm0 63.785V94.215h-1V158zm28.258-.5H8.104v1h28.758zm-.5-63.285V158h1V94.215zm0 0h1a1 1 0 0 0-1-1zm-27.758 0h27.758v-1H8.604z\"\n})));\nconst ForwardRef = /*#__PURE__*/forwardRef(SvgChart);\nexport default ForwardRef;","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { ReactNode, Key, useMemo } from 'react';\n\nimport { styled, t, useTruncation } from '@superset-ui/core';\nimport { Tooltip } from '../Tooltip';\n\nexport type TruncatedListProps<ListItemType> = {\n  /**\n   * Array of input items of type `ListItemType`.\n   */\n  items: ListItemType[];\n\n  /**\n   * Renderer for items not overflowed into the tooltip.\n   * Required if `ListItemType` is not renderable by React.\n   */\n  renderVisibleItem?: (item: ListItemType) => ReactNode;\n\n  /**\n   * Renderer for items that are overflowed into the tooltip.\n   * Required if `ListItemType` is not renderable by React.\n   */\n  renderTooltipItem?: (item: ListItemType) => ReactNode;\n\n  /**\n   * Returns the React key for an item.\n   */\n  getKey?: (item: ListItemType) => Key;\n\n  /**\n   * The max number of links that should appear in the tooltip.\n   */\n  maxLinks?: number;\n};\n\nconst StyledTruncatedList = styled.div`\n  & > span {\n    width: 100%;\n    display: flex;\n\n    .ant-tooltip-open {\n      display: inline;\n    }\n  }\n`;\n\nconst StyledVisibleItems = styled.span`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block;\n  width: 100%;\n  vertical-align: bottom;\n`;\n\nconst StyledVisibleItem = styled.span`\n  &:not(:last-child)::after {\n    content: ', ';\n  }\n`;\n\nconst StyledTooltipItem = styled.div`\n  .link {\n    color: ${({ theme }) => theme.colors.grayscale.light5};\n    display: block;\n    text-decoration: underline;\n  }\n`;\n\nconst StyledPlus = styled.span`\n  ${({ theme }) => `\n  cursor: pointer;\n  color: ${theme.colors.primary.dark1};\n  font-weight: ${theme.typography.weights.normal};\n  `}\n`;\n\nexport default function TruncatedList<ListItemType>({\n  items,\n  renderVisibleItem = item => item,\n  renderTooltipItem = item => item,\n  getKey = item => item as unknown as Key,\n  maxLinks = 20,\n}: TruncatedListProps<ListItemType>) {\n  const [itemsNotInTooltipRef, plusRef, elementsTruncated, hasHiddenElements] =\n    useTruncation();\n\n  const nMoreItems = useMemo(\n    () => (items.length > maxLinks ? items.length - maxLinks : undefined),\n    [items, maxLinks],\n  );\n\n  const itemsNotInTooltip = useMemo(\n    () => (\n      <StyledVisibleItems ref={itemsNotInTooltipRef} data-test=\"crosslinks\">\n        {items.map(item => (\n          <StyledVisibleItem key={getKey(item)}>\n            {renderVisibleItem(item)}\n          </StyledVisibleItem>\n        ))}\n      </StyledVisibleItems>\n    ),\n    [getKey, items, renderVisibleItem],\n  );\n\n  const itemsInTooltip = useMemo(\n    () =>\n      items\n        .slice(0, maxLinks)\n        .map(item => (\n          <StyledTooltipItem key={getKey(item)}>\n            {renderTooltipItem(item)}\n          </StyledTooltipItem>\n        )),\n    [getKey, items, maxLinks, renderTooltipItem],\n  );\n\n  return (\n    <StyledTruncatedList>\n      <Tooltip\n        placement=\"top\"\n        title={\n          elementsTruncated ? (\n            <>\n              {itemsInTooltip}\n              {nMoreItems && <span>{t('+ %s more', nMoreItems)}</span>}\n            </>\n          ) : null\n        }\n      >\n        {itemsNotInTooltip}\n        {hasHiddenElements && (\n          <StyledPlus ref={plusRef}>+{elementsTruncated}</StyledPlus>\n        )}\n      </Tooltip>\n    </StyledTruncatedList>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  css,\n  ensureIsArray,\n  styled,\n  SupersetTheme,\n  t,\n} from '@superset-ui/core';\nimport Chart, { ChartLinkedDashboard } from 'src/types/Chart';\nimport Table, {\n  ColumnsType,\n  TableSize,\n  OnChangeFunction,\n} from 'src/components/Table';\nimport { EmptyStateBig } from 'src/components/EmptyState';\nimport ChartImage from 'src/assets/images/chart.svg';\nimport Icons from 'src/components/Icons';\nimport { useToasts } from 'src/components/MessageToasts/withToasts';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport { FilterOperator } from 'src/components/ListView';\nimport moment from 'moment';\nimport TruncatedList from 'src/components/TruncatedList';\n\ninterface DatasetUsageProps {\n  datasetId: string;\n}\n\nconst DEFAULT_PAGE_SIZE = 25;\n\nconst getLinkProps = (dashboard: ChartLinkedDashboard) => ({\n  key: dashboard.id,\n  to: `/superset/dashboard/${dashboard.id}`,\n  target: '_blank',\n  rel: 'noreferer noopener',\n  children: dashboard.dashboard_title,\n});\n\nconst tooltipItemCSS = (theme: SupersetTheme) => css`\n  color: ${theme.colors.grayscale.light5};\n  text-decoration: underline;\n  &:hover {\n    color: inherit;\n  }\n`;\n\nconst columns: ColumnsType<Chart> = [\n  {\n    key: 'slice_name',\n    title: t('Chart'),\n    width: '320px',\n    sorter: true,\n    render: (value, record) => <Link to={record.url}>{record.slice_name}</Link>,\n  },\n  {\n    key: 'owners',\n    title: t('Chart owners'),\n    width: '242px',\n    render: (value, record) => (\n      <TruncatedList\n        items={\n          record.owners?.map(\n            owner => `${owner.first_name} ${owner.last_name}`,\n          ) ?? []\n        }\n      />\n    ),\n  },\n  {\n    key: 'last_saved_at',\n    title: t('Chart last modified'),\n    width: '209px',\n    sorter: true,\n    defaultSortOrder: 'descend',\n    render: (value, record) =>\n      record.last_saved_at ? moment.utc(record.last_saved_at).fromNow() : null,\n  },\n  {\n    key: 'last_saved_by.first_name',\n    title: t('Chart last modified by'),\n    width: '216px',\n    sorter: true,\n    render: (value, record) =>\n      record.last_saved_by\n        ? `${record.last_saved_by.first_name} ${record.last_saved_by.last_name}`\n        : null,\n  },\n  {\n    key: 'dashboards',\n    title: t('Dashboard usage'),\n    width: '420px',\n    render: (value, record) => (\n      <TruncatedList<ChartLinkedDashboard>\n        items={record.dashboards}\n        renderVisibleItem={dashboard => <Link {...getLinkProps(dashboard)} />}\n        renderTooltipItem={dashboard => (\n          <Link {...getLinkProps(dashboard)} css={tooltipItemCSS} />\n        )}\n        getKey={dashboard => dashboard.id}\n      />\n    ),\n  },\n];\n\nconst emptyStateTableCSS = (theme: SupersetTheme) => css`\n  && th.ant-table-cell {\n    color: ${theme.colors.grayscale.light1};\n  }\n\n  .ant-table-placeholder {\n    display: none;\n  }\n`;\n\nconst emptyStateButtonText = (\n  <>\n    <Icons.PlusOutlined\n      iconSize=\"m\"\n      css={css`\n        & > .anticon {\n          line-height: 0;\n        }\n      `}\n    />\n    {t('Create chart with dataset')}\n  </>\n);\n\nconst StyledEmptyStateBig = styled(EmptyStateBig)`\n  margin: ${({ theme }) => 13 * theme.gridUnit}px 0;\n`;\n\n/**\n * Hook that uses the useListViewResource hook to retrieve records\n * based on pagination state.\n */\nconst useDatasetChartRecords = (datasetId: string) => {\n  const { addDangerToast } = useToasts();\n\n  // Always filters charts by dataset\n  const baseFilters = useMemo(\n    () => [\n      {\n        id: 'datasource_id',\n        operator: FilterOperator.Equals,\n        value: datasetId,\n      },\n    ],\n    [datasetId],\n  );\n\n  // Returns request status/results and function for re-fetching\n  const {\n    state: { loading, resourceCount, resourceCollection },\n    fetchData,\n  } = useListViewResource<Chart>(\n    'chart',\n    t('chart'),\n    addDangerToast,\n    true,\n    [],\n    baseFilters,\n  );\n\n  // Adds `key` field\n  const resourceCollectionWithKey = useMemo(\n    () => resourceCollection.map(o => ({ ...o, key: o.id })),\n    [resourceCollection],\n  );\n\n  // Called by table with updated table state to fetch new data\n  // @ts-ignore\n  const onChange: OnChangeFunction = useCallback(\n    // @ts-ignore\n    (tablePagination, tableFilters, tableSorter) => {\n      const pageIndex = (tablePagination.current ?? 1) - 1;\n      const pageSize = tablePagination.pageSize ?? 0;\n      const sortBy = ensureIsArray(tableSorter)\n        .filter(({ columnKey }) => typeof columnKey === 'string')\n        .map(({ columnKey, order }) => ({\n          id: columnKey as string,\n          desc: order === 'descend',\n        }));\n      fetchData({ pageIndex, pageSize, sortBy, filters: [] });\n    },\n    [fetchData],\n  );\n\n  // Initial data request\n  useEffect(() => {\n    fetchData({\n      pageIndex: 0,\n      pageSize: DEFAULT_PAGE_SIZE,\n      sortBy: [{ id: 'last_saved_at', desc: true }],\n      filters: [],\n    });\n  }, [fetchData]);\n\n  return {\n    loading,\n    recordCount: resourceCount,\n    data: resourceCollectionWithKey,\n    onChange,\n  };\n};\n\nconst DatasetUsage = ({ datasetId }: DatasetUsageProps) => {\n  const { loading, recordCount, data, onChange } =\n    useDatasetChartRecords(datasetId);\n\n  const emptyStateButtonAction = useCallback(\n    () =>\n      window.open(\n        `/explore/?dataset_type=table&dataset_id=${datasetId}`,\n        '_blank',\n      ),\n    [datasetId],\n  );\n\n  return (\n    <div css={!data.length ? emptyStateTableCSS : null}>\n      <Table\n        columns={columns}\n        data={data}\n        size={TableSize.Middle}\n        defaultPageSize={DEFAULT_PAGE_SIZE}\n        recordCount={recordCount}\n        loading={loading}\n        onChange={onChange}\n      />\n      {!data.length && !loading ? (\n        <StyledEmptyStateBig\n          image={<ChartImage />}\n          title={t('No charts')}\n          description={t('This dataset is not used to power any charts.')}\n          buttonText={emptyStateButtonText}\n          buttonAction={emptyStateButtonAction}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default DatasetUsage;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled, t } from '@superset-ui/core';\nimport useGetDatasetRelatedCounts from 'src/features/datasets/hooks/useGetDatasetRelatedCounts';\nimport Badge from 'src/components/Badge';\nimport Tabs from 'src/components/Tabs';\nimport UsageTab from './UsageTab';\n\nconst StyledTabs = styled(Tabs)`\n  ${({ theme }) => `\n  margin-top: ${theme.gridUnit * 8.5}px;\n  padding-left: ${theme.gridUnit * 4}px;\n  padding-right: ${theme.gridUnit * 4}px;\n\n  .ant-tabs-top > .ant-tabs-nav::before {\n    width: ${theme.gridUnit * 50}px;\n  }\n  `}\n`;\n\nconst TabStyles = styled.div`\n  ${({ theme }) => `\n  .ant-badge {\n    width: ${theme.gridUnit * 8}px;\n    margin-left: ${theme.gridUnit * 2.5}px;\n  }\n  `}\n`;\n\ninterface EditPageProps {\n  id: string;\n}\n\nconst TRANSLATIONS = {\n  USAGE_TEXT: t('Usage'),\n  COLUMNS_TEXT: t('Columns'),\n  METRICS_TEXT: t('Metrics'),\n};\n\nconst EditPage = ({ id }: EditPageProps) => {\n  const { usageCount } = useGetDatasetRelatedCounts(id);\n\n  const usageTab = (\n    <TabStyles>\n      <span>{TRANSLATIONS.USAGE_TEXT}</span>\n      {usageCount > 0 && <Badge count={usageCount} />}\n    </TabStyles>\n  );\n\n  return (\n    <StyledTabs moreIcon={null} fullWidth={false}>\n      <Tabs.TabPane tab={TRANSLATIONS.COLUMNS_TEXT} key=\"1\" />\n      <Tabs.TabPane tab={TRANSLATIONS.METRICS_TEXT} key=\"2\" />\n      <Tabs.TabPane tab={usageTab} key=\"3\">\n        <UsageTab datasetId={id} />\n      </Tabs.TabPane>\n    </StyledTabs>\n  );\n};\n\nexport default EditPage;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useCallback } from 'react';\nimport { SupersetClient, logging, t } from '@superset-ui/core';\nimport { addDangerToast } from 'src/components/MessageToasts/actions';\n\nconst useGetDatasetRelatedCounts = (id: string) => {\n  const [usageCount, setUsageCount] = useState(0);\n\n  const getDatasetRelatedObjects = useCallback(\n    () =>\n      SupersetClient.get({\n        endpoint: `/api/v1/dataset/${id}/related_objects`,\n      })\n        .then(({ json }) => {\n          setUsageCount(json?.charts.count);\n        })\n        .catch(error => {\n          addDangerToast(\n            t(`There was an error fetching dataset's related objects`),\n          );\n          logging.error(error);\n        }),\n    [id],\n  );\n\n  useEffect(() => {\n    // Todo: this useEffect should be used to call all count methods conncurently\n    // when we populate data for the new tabs. For right separating out this\n    // api call for building the usage page.\n    if (id) {\n      getDatasetRelatedObjects();\n    }\n  }, [id, getDatasetRelatedObjects]);\n\n  return { usageCount };\n};\n\nexport default useGetDatasetRelatedCounts;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * @param key The name of the row's attribute used to compare values for alphabetical sorting\n * @param a First row object to compare\n * @param b Second row object to compare\n * @returns number\n */\nexport const alphabeticalSort = (key: string, a: object, b: object): number =>\n  a?.[key]?.localeCompare?.(b?.[key]);\n\n/**\n * @param key The name of the row's attribute used to compare values for numerical sorting\n * @param a First row object to compare\n * @param b Second row object to compare\n * @returns number\n */\nexport const numericalSort = (key: string, a: object, b: object): number =>\n  a?.[key] - b?.[key];\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { t, styled } from '@superset-ui/core';\nimport { EmptyStateBig } from 'src/components/EmptyState';\nimport { Link } from 'react-router-dom';\n\nconst StyledContainer = styled.div`\n  padding: ${({ theme }) => theme.gridUnit * 8}px\n    ${({ theme }) => theme.gridUnit * 6}px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n`;\n\nconst StyledEmptyStateBig = styled(EmptyStateBig)`\n  max-width: 50%;\n\n  p {\n    width: ${({ theme }) => theme.gridUnit * 115}px;\n  }\n`;\n\nexport const SELECT_MESSAGE = t(\n  'Datasets can be created from database tables or SQL queries. Select a database table to the left or ',\n);\nexport const CREATE_MESSAGE = t('create dataset from SQL query');\nexport const VIEW_DATASET_MESSAGE = t(\n  ' to open SQL Lab. From there you can save the query as a dataset.',\n);\n\nconst renderEmptyDescription = () => (\n  <>\n    {SELECT_MESSAGE}\n    <Link to=\"/sqllab\">\n      <span role=\"button\" tabIndex={0}>\n        {CREATE_MESSAGE}\n      </span>\n    </Link>\n    {VIEW_DATASET_MESSAGE}\n  </>\n);\n\nexport const SELECT_TABLE_TITLE = t('Select dataset source');\nexport const NO_COLUMNS_TITLE = t('No table columns');\nexport const NO_COLUMNS_DESCRIPTION = t(\n  'This database table does not contain any data. Please select a different table.',\n);\nexport const ERROR_TITLE = t('An Error Occurred');\nexport const ERROR_DESCRIPTION = t(\n  'Unable to load columns for the selected table. Please select a different table.',\n);\n\ninterface MessageContentProps {\n  hasError: boolean;\n  tableName?: string | null;\n  hasColumns: boolean;\n}\n\nexport const MessageContent = (props: MessageContentProps) => {\n  const { hasError, tableName, hasColumns } = props;\n  let currentImage: string | undefined = 'empty-dataset.svg';\n  let currentTitle = SELECT_TABLE_TITLE;\n  let currentDescription = renderEmptyDescription();\n  if (hasError) {\n    currentTitle = ERROR_TITLE;\n    currentDescription = <>{ERROR_DESCRIPTION}</>;\n    currentImage = undefined;\n  } else if (tableName && !hasColumns) {\n    currentImage = 'no-columns.svg';\n    currentTitle = NO_COLUMNS_TITLE;\n    currentDescription = <>{NO_COLUMNS_DESCRIPTION}</>;\n  }\n  return (\n    <StyledContainer>\n      <StyledEmptyStateBig\n        image={currentImage}\n        title={currentTitle}\n        description={currentDescription}\n      />\n    </StyledContainer>\n  );\n};\n\nexport default MessageContent;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t, styled, useTheme } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\nimport Alert from 'src/components/Alert';\nimport Table, { ColumnsType, TableSize } from 'src/components/Table';\nimport { alphabeticalSort } from 'src/components/Table/sorters';\n// @ts-ignore\nimport LOADING_GIF from 'src/assets/images/loading.gif';\nimport { DatasetObject } from 'src/features/datasets/AddDataset/types';\nimport { ITableColumn } from './types';\nimport MessageContent from './MessageContent';\n\n/**\n * Enum defining CSS position options\n */\nenum EPosition {\n  ABSOLUTE = 'absolute',\n  RELATIVE = 'relative',\n}\n\n/**\n * Interface for StyledHeader\n */\ninterface StyledHeaderProps {\n  /**\n   * Determine the CSS positioning type\n   * Vertical centering of loader, No columns screen, and select table screen\n   * gets offset when the header position is relative and needs to be absolute, but table\n   * needs this positioned relative to render correctly\n   */\n  position: EPosition;\n}\n\nconst LOADER_WIDTH = 200;\nconst SPINNER_WIDTH = 120;\nconst HALF = 0.5;\nconst MARGIN_MULTIPLIER = 3;\n\nconst StyledHeader = styled.div<StyledHeaderProps>`\n  ${({ theme, position }) => `\n  position: ${position};\n  margin: ${theme.gridUnit * (MARGIN_MULTIPLIER + 1)}px\n    ${theme.gridUnit * MARGIN_MULTIPLIER}px\n    ${theme.gridUnit * MARGIN_MULTIPLIER}px\n    ${theme.gridUnit * (MARGIN_MULTIPLIER + 3)}px;\n  font-size: ${theme.gridUnit * 6}px;\n  font-weight: ${theme.typography.weights.medium};\n  padding-bottom: ${theme.gridUnit * MARGIN_MULTIPLIER}px;\n\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  .anticon:first-of-type {\n    margin-right: ${theme.gridUnit * (MARGIN_MULTIPLIER + 1)}px;\n  }\n\n  .anticon:nth-of-type(2) {\n    margin-left: ${theme.gridUnit * (MARGIN_MULTIPLIER + 1)}px;\n  `}\n`;\n\nconst StyledTitle = styled.div`\n  ${({ theme }) => `\n  margin-left: ${theme.gridUnit * (MARGIN_MULTIPLIER + 3)}px;\n  margin-bottom: ${theme.gridUnit * MARGIN_MULTIPLIER}px;\n  font-weight: ${theme.typography.weights.bold};\n  `}\n`;\n\nconst LoaderContainer = styled.div`\n  ${({ theme }) => `\n  padding: ${theme.gridUnit * 8}px\n    ${theme.gridUnit * 6}px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  `}\n`;\n\nconst StyledLoader = styled.div`\n  ${({ theme }) => `\n  max-width: 50%;\n  width: ${LOADER_WIDTH}px;\n\n  img {\n    width: ${SPINNER_WIDTH}px;\n    margin-left: ${(LOADER_WIDTH - SPINNER_WIDTH) * HALF}px;\n  }\n\n  div {\n    width: 100%;\n    margin-top: ${theme.gridUnit * MARGIN_MULTIPLIER}px;\n    text-align: center;\n    font-weight: ${theme.typography.weights.normal};\n    font-size: ${theme.typography.sizes.l}px;\n    color: ${theme.colors.grayscale.light1};\n  }\n  `}\n`;\n\nconst TableContainerWithBanner = styled.div`\n  ${({ theme }) => `\n  position: relative;\n  margin: ${theme.gridUnit * MARGIN_MULTIPLIER}px;\n  margin-left: ${theme.gridUnit * (MARGIN_MULTIPLIER + 3)}px;\n  height: calc(100% - ${theme.gridUnit * 60}px);\n  overflow: auto;\n  `}\n`;\n\nconst TableContainerWithoutBanner = styled.div`\n  ${({ theme }) => `\n  position: relative;\n  margin: ${theme.gridUnit * MARGIN_MULTIPLIER}px;\n  margin-left: ${theme.gridUnit * (MARGIN_MULTIPLIER + 3)}px;\n  height: calc(100% - ${theme.gridUnit * 30}px);\n  overflow: auto;\n  `}\n`;\n\nconst TableScrollContainer = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n`;\n\nconst StyledAlert = styled(Alert)`\n  ${({ theme }) => `\n  border: 1px solid ${theme.colors.info.base};\n  padding: ${theme.gridUnit * 4}px;\n  margin: ${theme.gridUnit * 6}px ${theme.gridUnit * 6}px\n    ${theme.gridUnit * 8}px;\n  .view-dataset-button {\n    position: absolute;\n    top: ${theme.gridUnit * 4}px;\n    right: ${theme.gridUnit * 4}px;\n    font-weight: ${theme.typography.weights.normal};\n\n    &:hover {\n      color: ${theme.colors.secondary.dark3};\n      text-decoration: underline;\n    }\n  }\n  `}\n`;\n\nexport const REFRESHING = t('Refreshing columns');\nexport const COLUMN_TITLE = t('Table columns');\nexport const ALT_LOADING = t('Loading');\n\nconst pageSizeOptions = ['5', '10', '15', '25'];\nconst DEFAULT_PAGE_SIZE = 25;\n\n// Define the columns for Table instance\nexport const tableColumnDefinition: ColumnsType<ITableColumn> = [\n  {\n    title: 'Column Name',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: (a: ITableColumn, b: ITableColumn) =>\n      alphabeticalSort('name', a, b),\n  },\n  {\n    title: 'Datatype',\n    dataIndex: 'type',\n    key: 'type',\n    width: '100px',\n    sorter: (a: ITableColumn, b: ITableColumn) =>\n      alphabeticalSort('type', a, b),\n  },\n];\n\n/**\n * Props interface for DatasetPanel\n */\nexport interface IDatasetPanelProps {\n  /**\n   * Name of the database table\n   */\n  tableName?: string | null;\n  /**\n   * Array of ITableColumn instances with name and type attributes\n   */\n  columnList: ITableColumn[];\n  /**\n   * Boolean indicating if there is an error state\n   */\n  hasError: boolean;\n  /**\n   * Boolean indicating if the component is in a loading state\n   */\n  loading: boolean;\n  datasets?: DatasetObject[] | undefined;\n}\n\nconst EXISTING_DATASET_DESCRIPTION = t(\n  'This table already has a dataset associated with it. You can only associate one dataset with a table.\\n',\n);\nconst VIEW_DATASET = t('View Dataset');\n\nconst renderExistingDatasetAlert = (dataset?: DatasetObject) => (\n  <StyledAlert\n    closable={false}\n    type=\"info\"\n    showIcon\n    message={t('This table already has a dataset')}\n    description={\n      <>\n        {EXISTING_DATASET_DESCRIPTION}\n        <span\n          role=\"button\"\n          onClick={() => {\n            window.open(\n              dataset?.explore_url,\n              '_blank',\n              'noreferrer noopener popup=false',\n            );\n          }}\n          tabIndex={0}\n          className=\"view-dataset-button\"\n        >\n          {VIEW_DATASET}\n        </span>\n      </>\n    }\n  />\n);\n\nconst DatasetPanel = ({\n  tableName,\n  columnList,\n  loading,\n  hasError,\n  datasets,\n}: IDatasetPanelProps) => {\n  const theme = useTheme();\n  const hasColumns = columnList?.length > 0 ?? false;\n  const datasetNames = datasets?.map(dataset => dataset.table_name);\n  const tableWithDataset = datasets?.find(\n    dataset => dataset.table_name === tableName,\n  );\n\n  let component;\n  let loader;\n  if (loading) {\n    loader = (\n      <LoaderContainer>\n        <StyledLoader>\n          <img alt={ALT_LOADING} src={LOADING_GIF} />\n          <div>{REFRESHING}</div>\n        </StyledLoader>\n      </LoaderContainer>\n    );\n  }\n  if (!loading) {\n    if (!loading && tableName && hasColumns && !hasError) {\n      component = (\n        <>\n          <StyledTitle>{COLUMN_TITLE}</StyledTitle>\n          {tableWithDataset ? (\n            <TableContainerWithBanner>\n              <TableScrollContainer>\n                <Table\n                  loading={loading}\n                  size={TableSize.Small}\n                  columns={tableColumnDefinition}\n                  data={columnList}\n                  pageSizeOptions={pageSizeOptions}\n                  defaultPageSize={DEFAULT_PAGE_SIZE}\n                />\n              </TableScrollContainer>\n            </TableContainerWithBanner>\n          ) : (\n            <TableContainerWithoutBanner>\n              <TableScrollContainer>\n                <Table\n                  loading={loading}\n                  size={TableSize.Small}\n                  columns={tableColumnDefinition}\n                  data={columnList}\n                  pageSizeOptions={pageSizeOptions}\n                  defaultPageSize={DEFAULT_PAGE_SIZE}\n                />\n              </TableScrollContainer>\n            </TableContainerWithoutBanner>\n          )}\n        </>\n      );\n    } else {\n      component = (\n        <MessageContent\n          hasColumns={hasColumns}\n          hasError={hasError}\n          tableName={tableName}\n        />\n      );\n    }\n  }\n\n  return (\n    <>\n      {tableName && (\n        <>\n          {datasetNames?.includes(tableName) &&\n            renderExistingDatasetAlert(tableWithDataset)}\n          <StyledHeader\n            position={\n              !loading && hasColumns ? EPosition.RELATIVE : EPosition.ABSOLUTE\n            }\n            title={tableName || ''}\n          >\n            {tableName && (\n              <Icons.Table iconColor={theme.colors.grayscale.base} />\n            )}\n            {tableName}\n          </StyledHeader>\n        </>\n      )}\n      {component}\n      {loader}\n    </>\n  );\n};\n\nexport default DatasetPanel;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useState, useRef } from 'react';\nimport { SupersetClient, logging, t } from '@superset-ui/core';\nimport { DatasetObject } from 'src/features/datasets/AddDataset/types';\nimport { addDangerToast } from 'src/components/MessageToasts/actions';\nimport { toQueryString } from 'src/utils/urlUtils';\nimport DatasetPanel from './DatasetPanel';\nimport { ITableColumn, IDatabaseTable, isIDatabaseTable } from './types';\n\n/**\n * Interface for the getTableMetadata API call\n */\ninterface IColumnProps {\n  /**\n   * Unique id of the database\n   */\n  dbId: number;\n  /**\n   * Name of the table\n   */\n  tableName: string;\n  /**\n   * Name of the schema\n   */\n  schema: string;\n}\n\nexport interface IDatasetPanelWrapperProps {\n  /**\n   * Name of the database table\n   */\n  tableName?: string | null;\n  /**\n   * Database ID\n   */\n  dbId?: number;\n  /**\n   * The selected catalog/schema for the database\n   */\n  catalog?: string | null;\n  schema?: string | null;\n  setHasColumns?: Function;\n  datasets?: DatasetObject[] | undefined;\n}\n\nconst DatasetPanelWrapper = ({\n  tableName,\n  dbId,\n  catalog,\n  schema,\n  setHasColumns,\n  datasets,\n}: IDatasetPanelWrapperProps) => {\n  const [columnList, setColumnList] = useState<ITableColumn[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const tableNameRef = useRef(tableName);\n\n  const getTableMetadata = async (props: IColumnProps) => {\n    const { dbId, tableName, schema } = props;\n    setLoading(true);\n    setHasColumns?.(false);\n    const path = `/api/v1/database/${dbId}/table_metadata/${toQueryString({\n      name: tableName,\n      catalog,\n      schema,\n    })}`;\n    try {\n      const response = await SupersetClient.get({\n        endpoint: path,\n      });\n\n      if (isIDatabaseTable(response?.json)) {\n        const table: IDatabaseTable = response.json as IDatabaseTable;\n        /**\n         *  The user is able to click other table columns while the http call for last selected table column is made\n         *  This check ensures we process the response that matches the last selected table name and ignore the others\n         */\n        if (table.name === tableNameRef.current) {\n          setColumnList(table.columns);\n          setHasColumns?.(table.columns.length > 0);\n          setHasError(false);\n        }\n      } else {\n        setColumnList([]);\n        setHasColumns?.(false);\n        setHasError(true);\n        addDangerToast(\n          t(\n            'The API response from %s does not match the IDatabaseTable interface.',\n            path,\n          ),\n        );\n        logging.error(\n          t(\n            'The API response from %s does not match the IDatabaseTable interface.',\n            path,\n          ),\n        );\n      }\n    } catch (error) {\n      setColumnList([]);\n      setHasColumns?.(false);\n      setHasError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    tableNameRef.current = tableName;\n    if (tableName && schema && dbId) {\n      getTableMetadata({ tableName, dbId, schema });\n    }\n    // getTableMetadata is a const and should not be in dependency array\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tableName, dbId, schema]);\n\n  return (\n    <DatasetPanel\n      columnList={columnList}\n      hasError={hasError}\n      loading={loading}\n      tableName={tableName}\n      datasets={datasets}\n    />\n  );\n};\n\nexport default DatasetPanelWrapper;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Interface for table columns dataset\n */\nexport interface ITableColumn {\n  /**\n   * Name of the column\n   */\n  name: string;\n  /**\n   * Datatype of the column\n   */\n  type: string;\n}\n\n/**\n * Checks if a given item matches the ITableColumn interface\n * @param item Object to check if it matches the ITableColumn interface\n * @returns boolean true if matches interface\n */\nexport const isITableColumn = (item: any): boolean => {\n  let match = true;\n  const BASE_ERROR =\n    'The object provided to isITableColumn does match the interface.';\n  if (typeof item?.name !== 'string') {\n    match = false;\n    // eslint-disable-next-line no-console\n    console.error(\n      `${BASE_ERROR} The property 'name' is required and must be a string`,\n    );\n  }\n  if (match && typeof item?.type !== 'string') {\n    match = false;\n    // eslint-disable-next-line no-console\n    console.error(\n      `${BASE_ERROR} The property 'type' is required and must be a string`,\n    );\n  }\n  return match;\n};\n\nexport interface IDatabaseTable {\n  name: string;\n  columns: ITableColumn[];\n}\n\n/**\n * Checks if a given item matches the isIDatabsetTable interface\n * @param item Object to check if it matches the isIDatabsetTable interface\n * @returns boolean true if matches interface\n */\nexport const isIDatabaseTable = (item: any): boolean => {\n  let match = true;\n  if (typeof item?.name !== 'string') {\n    match = false;\n  }\n  if (match && !Array.isArray(item.columns)) {\n    match = false;\n  }\n  if (match && item.columns.length > 0) {\n    const invalid = item.columns.some((column: any, index: number) => {\n      const valid = isITableColumn(column);\n      if (!valid) {\n        // eslint-disable-next-line no-console\n        console.error(\n          `The provided object does not match the IDatabaseTable interface. columns[${index}] is invalid and does not match the ITableColumn interface`,\n        );\n      }\n      return !valid;\n    });\n    match = !invalid;\n  }\n  return match;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, SetStateAction, Dispatch, useCallback } from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport TableSelector, { TableOption } from 'src/components/TableSelector';\nimport { DatabaseObject } from 'src/components/DatabaseSelector';\nimport { emptyStateComponent } from 'src/components/EmptyState';\nimport { useToasts } from 'src/components/MessageToasts/withToasts';\nimport { LocalStorageKeys, getItem } from 'src/utils/localStorageHelpers';\nimport {\n  DatasetActionType,\n  DatasetObject,\n} from 'src/features/datasets/AddDataset/types';\nimport { Table } from 'src/hooks/apiResources';\n\ninterface LeftPanelProps {\n  setDataset: Dispatch<SetStateAction<object>>;\n  dataset?: Partial<DatasetObject> | null;\n  datasetNames?: (string | null | undefined)[] | undefined;\n}\n\nconst LeftPanelStyle = styled.div`\n  ${({ theme }) => `\n    padding: ${theme.gridUnit * 4}px;\n    height: 100%;\n    background-color: ${theme.colors.grayscale.light5};\n    position: relative;\n    .emptystate {\n      height: auto;\n      margin-top: ${theme.gridUnit * 17.5}px;\n    }\n    .section-title {\n      margin-top: ${theme.gridUnit * 5.5}px;\n      margin-bottom: ${theme.gridUnit * 11}px;\n      font-weight: ${theme.typography.weights.bold};\n    }\n    .table-title {\n      margin-top: ${theme.gridUnit * 11}px;\n      margin-bottom: ${theme.gridUnit * 6}px;\n      font-weight: ${theme.typography.weights.bold};\n    }\n    .options-list {\n      overflow: auto;\n      position: absolute;\n      bottom: 0;\n      top: ${theme.gridUnit * 92.25}px;\n      left: ${theme.gridUnit * 3.25}px;\n      right: 0;\n\n      .no-scrollbar {\n        margin-right: ${theme.gridUnit * 4}px;\n      }\n\n      .options {\n        cursor: pointer;\n        padding: ${theme.gridUnit * 1.75}px;\n        border-radius: ${theme.borderRadius}px;\n        :hover {\n          background-color: ${theme.colors.grayscale.light4}\n        }\n      }\n\n      .options-highlighted {\n        cursor: pointer;\n        padding: ${theme.gridUnit * 1.75}px;\n        border-radius: ${theme.borderRadius}px;\n        background-color: ${theme.colors.primary.dark1};\n        color: ${theme.colors.grayscale.light5};\n      }\n\n      .options, .options-highlighted {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n      }\n    }\n    form > span[aria-label=\"refresh\"] {\n      position: absolute;\n      top: ${theme.gridUnit * 69}px;\n      left: ${theme.gridUnit * 42.75}px;\n      font-size: ${theme.gridUnit * 4.25}px;\n    }\n    .table-form {\n      margin-bottom: ${theme.gridUnit * 8}px;\n    }\n    .loading-container {\n      position: absolute;\n      top: ${theme.gridUnit * 89.75}px;\n      left: 0;\n      right: 0;\n      text-align: center;\n      img {\n        width: ${theme.gridUnit * 20}px;\n        margin-bottom: ${theme.gridUnit * 2.5}px;\n      }\n      p {\n        color: ${theme.colors.grayscale.light1};\n      }\n    }\n`}\n`;\n\nexport default function LeftPanel({\n  setDataset,\n  dataset,\n  datasetNames,\n}: LeftPanelProps) {\n  const { addDangerToast } = useToasts();\n\n  const setDatabase = useCallback(\n    (db: Partial<DatabaseObject>) => {\n      setDataset({ type: DatasetActionType.SelectDatabase, payload: { db } });\n    },\n    [setDataset],\n  );\n  const setCatalog = (catalog: string | null) => {\n    if (catalog) {\n      setDataset({\n        type: DatasetActionType.SelectCatalog,\n        payload: { name: 'catalog', value: catalog },\n      });\n    }\n  };\n  const setSchema = (schema: string) => {\n    if (schema) {\n      setDataset({\n        type: DatasetActionType.SelectSchema,\n        payload: { name: 'schema', value: schema },\n      });\n    }\n  };\n  const setTable = (tableName: string) => {\n    setDataset({\n      type: DatasetActionType.SelectTable,\n      payload: { name: 'table_name', value: tableName },\n    });\n  };\n  useEffect(() => {\n    const currentUserSelectedDb = getItem(\n      LocalStorageKeys.Database,\n      null,\n    ) as DatabaseObject;\n    if (currentUserSelectedDb) {\n      setDatabase(currentUserSelectedDb);\n    }\n  }, [setDatabase]);\n\n  const customTableOptionLabelRenderer = useCallback(\n    (table: Table) => (\n      <TableOption\n        table={\n          datasetNames?.includes(table.value)\n            ? {\n                ...table,\n                extra: {\n                  warning_markdown: t('This table already has a dataset'),\n                },\n              }\n            : table\n        }\n      />\n    ),\n    [datasetNames],\n  );\n\n  return (\n    <LeftPanelStyle>\n      <TableSelector\n        database={dataset?.db}\n        handleError={addDangerToast}\n        emptyState={emptyStateComponent(false)}\n        onDbChange={setDatabase}\n        onCatalogChange={setCatalog}\n        onSchemaChange={setSchema}\n        onTableSelectChange={setTable}\n        sqlLabMode={false}\n        customTableOptionLabelRenderer={customTableOptionLabelRenderer}\n        {...(dataset?.catalog && { catalog: dataset.catalog })}\n        {...(dataset?.schema && { schema: dataset.schema })}\n      />\n    </LeftPanelStyle>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useHistory } from 'react-router-dom';\nimport Button from 'src/components/Button';\nimport { t } from '@superset-ui/core';\nimport { useSingleViewResource } from 'src/views/CRUD/hooks';\nimport { logEvent } from 'src/logger/actions';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport {\n  LOG_ACTIONS_DATASET_CREATION_EMPTY_CANCELLATION,\n  LOG_ACTIONS_DATASET_CREATION_DATABASE_CANCELLATION,\n  LOG_ACTIONS_DATASET_CREATION_SCHEMA_CANCELLATION,\n  LOG_ACTIONS_DATASET_CREATION_TABLE_CANCELLATION,\n  LOG_ACTIONS_DATASET_CREATION_SUCCESS,\n} from 'src/logger/LogUtils';\nimport { DatasetObject } from '../types';\n\ninterface FooterProps {\n  url: string;\n  addDangerToast: () => void;\n  datasetObject?: Partial<DatasetObject> | null;\n  onDatasetAdd?: (dataset: DatasetObject) => void;\n  hasColumns?: boolean;\n  datasets?: (string | null | undefined)[] | undefined;\n}\n\nconst INPUT_FIELDS = ['db', 'schema', 'table_name'];\nconst LOG_ACTIONS = [\n  LOG_ACTIONS_DATASET_CREATION_EMPTY_CANCELLATION,\n  LOG_ACTIONS_DATASET_CREATION_DATABASE_CANCELLATION,\n  LOG_ACTIONS_DATASET_CREATION_SCHEMA_CANCELLATION,\n  LOG_ACTIONS_DATASET_CREATION_TABLE_CANCELLATION,\n];\n\nfunction Footer({\n  datasetObject,\n  addDangerToast,\n  hasColumns = false,\n  datasets,\n}: FooterProps) {\n  const history = useHistory();\n  const { createResource } = useSingleViewResource<Partial<DatasetObject>>(\n    'dataset',\n    t('dataset'),\n    addDangerToast,\n  );\n\n  const createLogAction = (dataset: Partial<DatasetObject>) => {\n    let totalCount = 0;\n    const value = Object.keys(dataset).reduce((total, key) => {\n      if (INPUT_FIELDS.includes(key) && dataset[key]) {\n        totalCount += 1;\n      }\n      return totalCount;\n    }, 0);\n\n    return LOG_ACTIONS[value];\n  };\n\n  const cancelButtonOnClick = () => {\n    if (!datasetObject) {\n      logEvent(LOG_ACTIONS_DATASET_CREATION_EMPTY_CANCELLATION, {});\n    } else {\n      const logAction = createLogAction(datasetObject);\n      logEvent(logAction, datasetObject);\n    }\n    history.goBack();\n  };\n\n  const tooltipText = t('Select a database table.');\n\n  const onSave = () => {\n    if (datasetObject) {\n      const data = {\n        database: datasetObject.db?.id,\n        catalog: datasetObject.catalog,\n        schema: datasetObject.schema,\n        table_name: datasetObject.table_name,\n      };\n      createResource(data).then(response => {\n        if (!response) {\n          return;\n        }\n        if (typeof response === 'number') {\n          logEvent(LOG_ACTIONS_DATASET_CREATION_SUCCESS, datasetObject);\n          // When a dataset is created the response we get is its ID number\n          history.push(`/chart/add/?dataset=${datasetObject.table_name}`);\n        }\n      });\n    }\n  };\n\n  const CREATE_DATASET_TEXT = t('Create dataset and create chart');\n  const disabledCheck =\n    !datasetObject?.table_name ||\n    !hasColumns ||\n    datasets?.includes(datasetObject?.table_name);\n\n  return (\n    <>\n      <Button onClick={cancelButtonOnClick}>{t('Cancel')}</Button>\n      <Button\n        buttonStyle=\"primary\"\n        disabled={disabledCheck}\n        tooltip={!datasetObject?.table_name ? tooltipText : undefined}\n        onClick={onSave}\n      >\n        {CREATE_DATASET_TEXT}\n      </Button>\n    </>\n  );\n}\n\nexport default withToasts(Footer);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactElement, JSXElementConstructor } from 'react';\nimport { useTheme } from '@superset-ui/core';\nimport ResizableSidebar from 'src/components/ResizableSidebar';\n\nimport {\n  StyledLayoutWrapper,\n  LeftColumn,\n  RightColumn,\n  OuterRow,\n  PanelRow,\n  FooterRow,\n  StyledLayoutHeader,\n  StyledLayoutLeftPanel,\n  StyledLayoutDatasetPanel,\n  StyledLayoutRightPanel,\n  StyledLayoutFooter,\n} from '../styles';\n\ninterface DatasetLayoutProps {\n  header?: ReactElement<any, string | JSXElementConstructor<any>> | null;\n  leftPanel?: ReactElement<any, string | JSXElementConstructor<any>> | null;\n  datasetPanel?: ReactElement<any, string | JSXElementConstructor<any>> | null;\n  rightPanel?: ReactElement<any, string | JSXElementConstructor<any>> | null;\n  footer?: ReactElement<any, string | JSXElementConstructor<any>> | null;\n}\n\nexport default function DatasetLayout({\n  header,\n  leftPanel,\n  datasetPanel,\n  rightPanel,\n  footer,\n}: DatasetLayoutProps) {\n  const theme = useTheme();\n\n  return (\n    <StyledLayoutWrapper data-test=\"dataset-layout-wrapper\">\n      {header && <StyledLayoutHeader>{header}</StyledLayoutHeader>}\n      <OuterRow>\n        {leftPanel && (\n          <ResizableSidebar\n            id=\"dataset\"\n            initialWidth={theme.gridUnit * 80}\n            minWidth={theme.gridUnit * 80}\n            enable\n          >\n            {adjustedWidth => (\n              <LeftColumn width={adjustedWidth}>\n                <StyledLayoutLeftPanel>{leftPanel}</StyledLayoutLeftPanel>\n              </LeftColumn>\n            )}\n          </ResizableSidebar>\n        )}\n        <RightColumn>\n          <PanelRow>\n            {datasetPanel && (\n              <StyledLayoutDatasetPanel>\n                {datasetPanel}\n              </StyledLayoutDatasetPanel>\n            )}\n            {rightPanel && (\n              <StyledLayoutRightPanel>{rightPanel}</StyledLayoutRightPanel>\n            )}\n          </PanelRow>\n\n          <FooterRow>\n            {footer && <StyledLayoutFooter>{footer}</StyledLayoutFooter>}\n          </FooterRow>\n        </RightColumn>\n      </OuterRow>\n    </StyledLayoutWrapper>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useReducer, Reducer, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport useDatasetsList from 'src/features/datasets/hooks/useDatasetLists';\nimport Header from 'src/features/datasets/AddDataset/Header';\nimport EditPage from 'src/features/datasets/AddDataset/EditDataset';\nimport DatasetPanel from 'src/features/datasets/AddDataset/DatasetPanel';\nimport LeftPanel from 'src/features/datasets/AddDataset/LeftPanel';\nimport Footer from 'src/features/datasets/AddDataset/Footer';\nimport {\n  DatasetActionType,\n  DatasetObject,\n  DSReducerActionType,\n} from 'src/features/datasets/AddDataset/types';\nimport DatasetLayout from 'src/features/datasets/DatasetLayout';\n\ntype Schema = {\n  schema: string;\n};\n\nexport function datasetReducer(\n  state: DatasetObject | null,\n  action: DSReducerActionType,\n): Partial<DatasetObject> | Schema | null {\n  const trimmedState = {\n    ...(state || {}),\n  };\n\n  switch (action.type) {\n    case DatasetActionType.SelectDatabase:\n      return {\n        ...trimmedState,\n        ...action.payload,\n        catalog: null,\n        schema: null,\n        table_name: null,\n      };\n    case DatasetActionType.SelectCatalog:\n      return {\n        ...trimmedState,\n        [action.payload.name]: action.payload.value,\n        schema: null,\n        table_name: null,\n      };\n    case DatasetActionType.SelectSchema:\n      return {\n        ...trimmedState,\n        [action.payload.name]: action.payload.value,\n        table_name: null,\n      };\n    case DatasetActionType.SelectTable:\n      return {\n        ...trimmedState,\n        [action.payload.name]: action.payload.value,\n      };\n    case DatasetActionType.ChangeDataset:\n      return {\n        ...trimmedState,\n        [action.payload.name]: action.payload.value,\n      };\n    default:\n      return null;\n  }\n}\n\nconst prevUrl =\n  '/tablemodelview/list/?pageIndex=0&sortColumn=changed_on_delta_humanized&sortOrder=desc';\n\nexport default function AddDataset() {\n  const [dataset, setDataset] = useReducer<\n    Reducer<Partial<DatasetObject> | null, DSReducerActionType>\n  >(datasetReducer, null);\n  const [hasColumns, setHasColumns] = useState(false);\n  const [editPageIsVisible, setEditPageIsVisible] = useState(false);\n\n  const { datasets, datasetNames } = useDatasetsList(\n    dataset?.db,\n    dataset?.schema,\n  );\n\n  const { datasetId: id } = useParams<{ datasetId: string }>();\n  useEffect(() => {\n    if (!Number.isNaN(parseInt(id, 10))) {\n      setEditPageIsVisible(true);\n    }\n  }, [id]);\n\n  const HeaderComponent = () => (\n    <Header setDataset={setDataset} title={dataset?.table_name} />\n  );\n\n  const LeftPanelComponent = () => (\n    <LeftPanel\n      setDataset={setDataset}\n      dataset={dataset}\n      datasetNames={datasetNames}\n    />\n  );\n\n  const EditPageComponent = () => <EditPage id={id} />;\n\n  const DatasetPanelComponent = () => (\n    <DatasetPanel\n      tableName={dataset?.table_name}\n      dbId={dataset?.db?.id}\n      catalog={dataset?.catalog}\n      schema={dataset?.schema}\n      setHasColumns={setHasColumns}\n      datasets={datasets}\n    />\n  );\n\n  const FooterComponent = () => (\n    <Footer\n      url={prevUrl}\n      datasetObject={dataset}\n      hasColumns={hasColumns}\n      datasets={datasetNames}\n    />\n  );\n\n  return (\n    <DatasetLayout\n      header={HeaderComponent()}\n      leftPanel={editPageIsVisible ? null : LeftPanelComponent()}\n      datasetPanel={\n        editPageIsVisible ? EditPageComponent() : DatasetPanelComponent()\n      }\n      footer={FooterComponent()}\n    />\n  );\n}\n","\"use strict\";\nexports.ITEM_TYPES = {\n    PAGE: 'PAGE',\n    ELLIPSIS: 'ELLIPSIS',\n    FIRST_PAGE_LINK: 'FIRST_PAGE_LINK',\n    PREVIOUS_PAGE_LINK: 'PREVIOUS_PAGE_LINK',\n    NEXT_PAGE_LINK: 'NEXT_PAGE_LINK',\n    LAST_PAGE_LINK: 'LAST_PAGE_LINK'\n};\nexports.ITEM_KEYS = {\n    FIRST_ELLIPSIS: -1,\n    SECOND_ELLIPSIS: -2,\n    FIRST_PAGE_LINK: -3,\n    PREVIOUS_PAGE_LINK: -4,\n    NEXT_PAGE_LINK: -5,\n    LAST_PAGE_LINK: -6\n};\n//# sourceMappingURL=ultimate-pagination-constants.js.map","\"use strict\";\nvar ultimate_pagination_constants_1 = require(\"./ultimate-pagination-constants\");\nexports.createFirstEllipsis = function (pageNumber) {\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.ELLIPSIS,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.FIRST_ELLIPSIS,\n        value: pageNumber,\n        isActive: false\n    };\n};\nexports.createSecondEllipsis = function (pageNumber) {\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.ELLIPSIS,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.SECOND_ELLIPSIS,\n        value: pageNumber,\n        isActive: false\n    };\n};\nexports.createFirstPageLink = function (options) {\n    var currentPage = options.currentPage;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.FIRST_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.FIRST_PAGE_LINK,\n        value: 1,\n        isActive: currentPage === 1\n    };\n};\nexports.createPreviousPageLink = function (options) {\n    var currentPage = options.currentPage;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.PREVIOUS_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.PREVIOUS_PAGE_LINK,\n        value: Math.max(1, currentPage - 1),\n        isActive: currentPage === 1\n    };\n};\nexports.createNextPageLink = function (options) {\n    var currentPage = options.currentPage, totalPages = options.totalPages;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.NEXT_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.NEXT_PAGE_LINK,\n        value: Math.min(totalPages, currentPage + 1),\n        isActive: currentPage === totalPages\n    };\n};\nexports.createLastPageLink = function (options) {\n    var currentPage = options.currentPage, totalPages = options.totalPages;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.LAST_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.LAST_PAGE_LINK,\n        value: totalPages,\n        isActive: currentPage === totalPages\n    };\n};\nexports.createPageFunctionFactory = function (options) {\n    var currentPage = options.currentPage;\n    return function (pageNumber) {\n        return {\n            type: ultimate_pagination_constants_1.ITEM_TYPES.PAGE,\n            key: pageNumber,\n            value: pageNumber,\n            isActive: pageNumber === currentPage\n        };\n    };\n};\n//# sourceMappingURL=ultimate-pagination-item-factories.js.map","\"use strict\";\nfunction createRange(start, end) {\n    var range = [];\n    for (var i = start; i <= end; i++) {\n        range.push(i);\n    }\n    return range;\n}\nexports.createRange = createRange;\n//# sourceMappingURL=ultimate-pagination-utils.js.map","\"use strict\";\nvar ultimate_pagination_utils_1 = require(\"./ultimate-pagination-utils\");\nvar ultimate_pagination_item_factories_1 = require(\"./ultimate-pagination-item-factories\");\nfunction getPaginationModel(options) {\n    if (options == null) {\n        throw new Error('getPaginationModel(): options object should be a passed');\n    }\n    var totalPages = Number(options.totalPages);\n    if (isNaN(totalPages)) {\n        throw new Error('getPaginationModel(): totalPages should be a number');\n    }\n    if (totalPages < 0) {\n        throw new Error('getPaginationModel(): totalPages shouldn\\'t be a negative number');\n    }\n    var currentPage = Number(options.currentPage);\n    if (isNaN(currentPage)) {\n        throw new Error('getPaginationModel(): currentPage should be a number');\n    }\n    if (currentPage < 0) {\n        throw new Error('getPaginationModel(): currentPage shouldn\\'t be a negative number');\n    }\n    if (currentPage > totalPages) {\n        throw new Error('getPaginationModel(): currentPage shouldn\\'t be greater than totalPages');\n    }\n    var boundaryPagesRange = (options.boundaryPagesRange == null ? 1 : Number(options.boundaryPagesRange));\n    if (isNaN(boundaryPagesRange)) {\n        throw new Error('getPaginationModel(): boundaryPagesRange should be a number');\n    }\n    if (boundaryPagesRange < 0) {\n        throw new Error('getPaginationModel(): boundaryPagesRange shouldn\\'t be a negative number');\n    }\n    var siblingPagesRange = (options.siblingPagesRange == null ? 1 : Number(options.siblingPagesRange));\n    if (isNaN(siblingPagesRange)) {\n        throw new Error('getPaginationModel(): siblingPagesRange should be a number');\n    }\n    if (siblingPagesRange < 0) {\n        throw new Error('getPaginationModel(): siblingPagesRange shouldn\\'t be a negative number');\n    }\n    var hidePreviousAndNextPageLinks = Boolean(options.hidePreviousAndNextPageLinks);\n    var hideFirstAndLastPageLinks = Boolean(options.hideFirstAndLastPageLinks);\n    var hideEllipsis = Boolean(options.hideEllipsis);\n    var ellipsisSize = (hideEllipsis ? 0 : 1);\n    var paginationModel = [];\n    var createPage = ultimate_pagination_item_factories_1.createPageFunctionFactory(options);\n    if (!hideFirstAndLastPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createFirstPageLink(options));\n    }\n    if (!hidePreviousAndNextPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createPreviousPageLink(options));\n    }\n    // Simplify generation of pages if number of available items is equal or greater than total pages to show\n    if (1 + 2 * ellipsisSize + 2 * siblingPagesRange + 2 * boundaryPagesRange >= totalPages) {\n        var allPages = ultimate_pagination_utils_1.createRange(1, totalPages).map(createPage);\n        paginationModel.push.apply(paginationModel, allPages);\n    }\n    else {\n        // Calculate group of first pages\n        var firstPagesStart = 1;\n        var firstPagesEnd = boundaryPagesRange;\n        var firstPages = ultimate_pagination_utils_1.createRange(firstPagesStart, firstPagesEnd).map(createPage);\n        // Calculate group of last pages\n        var lastPagesStart = totalPages + 1 - boundaryPagesRange;\n        var lastPagesEnd = totalPages;\n        var lastPages = ultimate_pagination_utils_1.createRange(lastPagesStart, lastPagesEnd).map(createPage);\n        // Calculate group of main pages\n        var mainPagesStart = Math.min(Math.max(currentPage - siblingPagesRange, firstPagesEnd + ellipsisSize + 1), lastPagesStart - ellipsisSize - 2 * siblingPagesRange - 1);\n        var mainPagesEnd = mainPagesStart + 2 * siblingPagesRange;\n        var mainPages = ultimate_pagination_utils_1.createRange(mainPagesStart, mainPagesEnd).map(createPage);\n        // Add group of first pages\n        paginationModel.push.apply(paginationModel, firstPages);\n        if (!hideEllipsis) {\n            // Calculate and add ellipsis before group of main pages\n            var firstEllipsisPageNumber = mainPagesStart - 1;\n            var showPageInsteadOfFirstEllipsis = (firstEllipsisPageNumber === firstPagesEnd + 1);\n            var createFirstEllipsisOrPage = showPageInsteadOfFirstEllipsis ? createPage : ultimate_pagination_item_factories_1.createFirstEllipsis;\n            var firstEllipsis = createFirstEllipsisOrPage(firstEllipsisPageNumber);\n            paginationModel.push(firstEllipsis);\n        }\n        // Add group of main pages\n        paginationModel.push.apply(paginationModel, mainPages);\n        if (!hideEllipsis) {\n            // Calculate and add ellipsis after group of main pages\n            var secondEllipsisPageNumber = mainPagesEnd + 1;\n            var showPageInsteadOfSecondEllipsis = (secondEllipsisPageNumber === lastPagesStart - 1);\n            var createSecondEllipsisOrPage = showPageInsteadOfSecondEllipsis ? createPage : ultimate_pagination_item_factories_1.createSecondEllipsis;\n            var secondEllipsis = createSecondEllipsisOrPage(secondEllipsisPageNumber);\n            paginationModel.push(secondEllipsis);\n        }\n        // Add group of last pages\n        paginationModel.push.apply(paginationModel, lastPages);\n    }\n    if (!hidePreviousAndNextPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createNextPageLink(options));\n    }\n    if (!hideFirstAndLastPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createLastPageLink(options));\n    }\n    return paginationModel;\n}\nexports.getPaginationModel = getPaginationModel;\nvar ultimate_pagination_constants_1 = require(\"./ultimate-pagination-constants\");\nexports.ITEM_TYPES = ultimate_pagination_constants_1.ITEM_TYPES;\nexports.ITEM_KEYS = ultimate_pagination_constants_1.ITEM_KEYS;\n//# sourceMappingURL=ultimate-pagination.js.map"],"names":["exports","undefined","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react2","_interopRequireDefault","_propTypes2","_ultimatePagination","obj","__esModule","default","_ref2","itemTypeToComponent","_ref2$WrapperComponen","WrapperComponent","UltimatePaginationComponent","props","currentPage","totalPages","boundaryPagesRange","siblingPagesRange","hideEllipsis","hidePreviousAndNextPageLinks","hideFirstAndLastPageLinks","onChange","disabled","restProps","keys","indexOf","_objectWithoutProperties","paginationModel","getPaginationModel","renderItemComponent","_ref","value","isDisabled","ItemComponent","type","onItemClick","createElement","onClick","renderItemComponentFunctionFactory","map","itemModel","propTypes","number","isRequired","bool","func","ITEM_TYPES","useChildElementTruncation","elementsTruncated","setElementsTruncated","useState","hasHiddenElements","setHasHiddenElements","elementRef","useRef","plusRef","useLayoutEffect","_elementRef$current","onResize","currentElement","current","plusRefElement","scrollWidth","clientWidth","childNodes","truncationWidth","plusSize","offsetWidth","maxWidth","elementsCount","width","hiddenElements","obs","ResizeObserver","element","parentElement","observe","disconnect","StyledLink","styled","a","theme","css","typography","sizes","xl","gridUnit","FaveStar","itemId","isStarred","showTooltip","saveFaveStar","fetchFaveStar","useEffect","useCallback","e","preventDefault","content","_jsx","href","className","role","children","Icons","FavoriteSelected","FavoriteUnselected","Tooltip","id","title","t","titleStyles","weights","bold","colors","grayscale","light1","DynamicEditableTitle","memo","placeholder","onSave","canEdit","label","isEditing","setIsEditing","currentTitle","setCurrentTitle","contentRef","setShowTooltip","inputWidth","ref","sizerRef","useResizeDetector","containerWidth","containerRef","refreshMode","focus","setSelectionRange","scrollLeft","textContent","handleClick","handleBlur","formattedTitle","trim","handleChange","ev","handleKeyPress","_contentRef$current","blur","_jsxs","onBlur","onKeyPress","tabIndex","menuTriggerStyles","primary","dark2","headerStyles","light5","buttonsStyles","additionalActionsContainerStyles","PageHeaderWithActions","editableTitleProps","showTitlePanelItems","certificatiedBadgeProps","showFaveStar","faveStarProps","titlePanelAdditionalItems","rightPanelAdditionalItems","additionalActionsMenu","menuDropdownProps","showMenuDropdown","tooltipProps","useTheme","certifiedBy","CertifiedBadge","AntdDropdown","trigger","overlay","Button","buttonStyle","tooltip","text","placement","MoreHoriz","iconColor","iconSize","ResizableWrapper","div","base","ResizableSidebar","initialWidth","minWidth","enable","setWidth","widthsMapRef","sidebarWidth","setSidebarWidth","_widthsMapRef$current","getItem","LocalStorageKeys","CommonResizableSidebarWidths","updatedWidth","setItem","useStoredSidebarWidth","_Fragment","Resizable","right","handleClasses","size","height","onResizeStop","direction","d","warningMarkdown","marginRight","SafeMarkdown","AlertSolid","alert","_css","useDatasetsList","db","schema","datasets","setDatasets","encodedSchema","encodeURIComponent","getDatasetsList","async","filters","count","results","page","queryParams","rison","response","SupersetClient","get","endpoint","json","result","error","addDangerToast","logging","col","opr","datasetNames","useMemo","dataset","table_name","DatasetActionType","StyledLayoutWrapper","LeftColumn","RightColumn","Row","OuterRow","PanelRow","FooterRow","StyledLayoutHeader","light2","StyledCreateDatasetTitle","StyledLayoutLeftPanel","StyledLayoutDatasetPanel","StyledLayoutRightPanel","success","StyledLayoutFooter","info","zIndex","max","HeaderComponentStyles","disabledSaveBtnStyles","light3","DEFAULT_TITLE","renderDisabledSaveButton","Save","renderOverlay","Menu","Item","Header","setDataset","editing","newDatasetName","ChangeDataset","payload","name","_path","_path2","bind","n","r","apply","SvgChart","titleId","xmlns","fill","fillRule","clipRule","forwardRef","StyledTruncatedList","StyledVisibleItems","span","StyledVisibleItem","StyledTooltipItem","StyledPlus","dark1","normal","TruncatedList","items","renderVisibleItem","item","renderTooltipItem","getKey","maxLinks","itemsNotInTooltipRef","useTruncation","nMoreItems","itemsNotInTooltip","itemsInTooltip","slice","getLinkProps","dashboard","to","rel","dashboard_title","tooltipItemCSS","columns","sorter","render","record","Link","url","slice_name","_record$owners$map","_record$owners","owners","owner","first_name","last_name","defaultSortOrder","last_saved_at","moment","fromNow","last_saved_by","dashboards","emptyStateTableCSS","emptyStateButtonText","PlusOutlined","StyledEmptyStateBig","EmptyStateBig","DatasetUsage","datasetId","loading","recordCount","data","useDatasetChartRecords","useToasts","baseFilters","operator","FilterOperator","Equals","state","resourceCount","resourceCollection","fetchData","useListViewResource","resourceCollectionWithKey","o","tablePagination","tableFilters","tableSorter","_tablePagination$curr","_tablePagination$page","pageIndex","pageSize","sortBy","ensureIsArray","filter","columnKey","order","desc","emptyStateButtonAction","window","open","Table","TableSize","Middle","defaultPageSize","image","ChartImage","description","buttonText","buttonAction","StyledTabs","Tabs","TabStyles","TRANSLATIONS","USAGE_TEXT","COLUMNS_TEXT","METRICS_TEXT","EditPage","usageCount","useGetDatasetRelatedCounts","setUsageCount","getDatasetRelatedObjects","then","charts","catch","usageTab","Badge","moreIcon","fullWidth","TabPane","tab","UsageTab","alphabeticalSort","b","_a$key","localeCompare","StyledContainer","SELECT_MESSAGE","CREATE_MESSAGE","VIEW_DATASET_MESSAGE","SELECT_TABLE_TITLE","NO_COLUMNS_TITLE","NO_COLUMNS_DESCRIPTION","ERROR_TITLE","ERROR_DESCRIPTION","hasError","tableName","hasColumns","currentImage","currentDescription","EPosition","StyledHeader","position","medium","StyledTitle","LoaderContainer","StyledLoader","l","TableContainerWithBanner","TableContainerWithoutBanner","TableScrollContainer","StyledAlert","Alert","secondary","dark3","REFRESHING","COLUMN_TITLE","ALT_LOADING","pageSizeOptions","tableColumnDefinition","dataIndex","EXISTING_DATASET_DESCRIPTION","VIEW_DATASET","DatasetPanel","columnList","tableWithDataset","find","component","loader","alt","src","LOADING_GIF","Small","MessageContent","includes","closable","showIcon","message","explore_url","RELATIVE","ABSOLUTE","renderExistingDatasetAlert","DatasetPanelWrapper","dbId","catalog","setHasColumns","setColumnList","setLoading","setHasError","tableNameRef","path","toQueryString","isIDatabaseTable","match","Array","isArray","invalid","some","column","index","valid","isITableColumn","BASE_ERROR","console","table","getTableMetadata","LeftPanelStyle","borderRadius","light4","LeftPanel","setDatabase","SelectDatabase","currentUserSelectedDb","Database","customTableOptionLabelRenderer","TableOption","extra","warning_markdown","TableSelector","database","handleError","emptyState","emptyStateComponent","onDbChange","onCatalogChange","SelectCatalog","onSchemaChange","SelectSchema","onTableSelectChange","SelectTable","sqlLabMode","INPUT_FIELDS","LOG_ACTIONS","LOG_ACTIONS_DATASET_CREATION_EMPTY_CANCELLATION","LOG_ACTIONS_DATASET_CREATION_DATABASE_CANCELLATION","LOG_ACTIONS_DATASET_CREATION_SCHEMA_CANCELLATION","LOG_ACTIONS_DATASET_CREATION_TABLE_CANCELLATION","withToasts","datasetObject","history","useHistory","createResource","useSingleViewResource","tooltipText","CREATE_DATASET_TEXT","disabledCheck","cancelButtonOnClick","logAction","createLogAction","totalCount","reduce","total","logEvent","goBack","_datasetObject$db","LOG_ACTIONS_DATASET_CREATION_SUCCESS","push","DatasetLayout","header","leftPanel","datasetPanel","rightPanel","footer","adjustedWidth","datasetReducer","action","trimmedState","prevUrl","AddDataset","useReducer","editPageIsVisible","setEditPageIsVisible","useParams","Number","isNaN","parseInt","_dataset$db","Footer","DatasetPanelComponent","PAGE","ELLIPSIS","FIRST_PAGE_LINK","PREVIOUS_PAGE_LINK","NEXT_PAGE_LINK","LAST_PAGE_LINK","ITEM_KEYS","FIRST_ELLIPSIS","SECOND_ELLIPSIS","ultimate_pagination_constants_1","createFirstEllipsis","pageNumber","isActive","createSecondEllipsis","createFirstPageLink","options","createPreviousPageLink","Math","createNextPageLink","min","createLastPageLink","createPageFunctionFactory","createRange","start","end","range","ultimate_pagination_utils_1","ultimate_pagination_item_factories_1","Error","Boolean","ellipsisSize","createPage","allPages","firstPagesEnd","firstPages","lastPagesStart","lastPagesEnd","lastPages","mainPagesStart","mainPagesEnd","mainPages","firstEllipsisPageNumber","firstEllipsis","secondEllipsisPageNumber","secondEllipsis"],"sourceRoot":""}